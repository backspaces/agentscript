const e="u-off",l="u-label",t="width",n="height",i="top",o="bottom",s="left",r="right",u="#000",a=u+"0",f="mousemove",c="mousedown",h="mouseup",d="mouseenter",p="mouseleave",m="dblclick",g="change",x="dppxchange",w="--",_="undefined"!=typeof window,b=_?document:null,v=_?window:null,k=_?navigator:null;let y,M;function S(e,l){if(null!=l){let t=e.classList;!t.contains(l)&&t.add(l)}}function E(e,l){let t=e.classList;t.contains(l)&&t.remove(l)}function T(e,l,t){e.style[l]=t+"px"}function z(e,l,t,n){let i=b.createElement(e);return null!=l&&S(i,l),null!=t&&t.insertBefore(i,n),i}function D(e,l){return z("div",e,l)}const A=new WeakMap;function P(l,t,n,i,o){let s="translate("+t+"px,"+n+"px)";s!=A.get(l)&&(l.style.transform=s,A.set(l,s),t<0||n<0||t>i||n>o?S(l,e):E(l,e))}const W=new WeakMap;function Y(e,l,t){let n=l+t;n!=W.get(e)&&(W.set(e,n),e.style.background=l,e.style.borderColor=t)}const C=new WeakMap;function F(e,l,t,n){let i=l+""+t;i!=C.get(e)&&(C.set(e,i),e.style.height=t+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-t/2+"px":0)}const H={passive:!0},R={...H,capture:!0};function G(e,l,t,n){l.addEventListener(e,t,n?R:H)}function I(e,l,t,n){l.removeEventListener(e,t,H)}function O(e,l,t,n){let i;t=t||0;let o=(n=n||l.length-1)<=2147483647;for(;n-t>1;)i=o?t+n>>1:te((t+n)/2),l[i]<e?t=i:n=i;return e-l[t]<=l[n]-e?t:n}function L(e,l,t,n){for(let i=1==n?l:t;i>=l&&i<=t;i+=n)if(null!=e[i])return i;return-1}function N(e,l,t,n){let i=ue(e),o=ue(l);e==l&&(-1==i?(e*=t,l/=t):(e/=t,l*=t));let s=10==t?ae:fe,r=1==o?ie:te,u=(1==i?te:ie)(s(le(e))),a=r(s(le(l))),f=re(t,u),c=re(t,a);return 10==t&&(u<0&&(f=Ee(f,-u)),a<0&&(c=Ee(c,-a))),n||2==t?(e=f*i,l=c*o):(e=Se(e,f),l=Me(l,c)),[e,l]}function j(e,l,t,n){let i=N(e,l,t,n);return 0==e&&(i[0]=0),0==l&&(i[1]=0),i}_&&function e(){let l=devicePixelRatio;y!=l&&(y=l,M&&I(g,M,e),M=matchMedia(`(min-resolution: ${y-.001}dppx) and (max-resolution: ${y+.001}dppx)`),G(g,M,e),v.dispatchEvent(new CustomEvent(x)))}();const U=.1,B={mode:3,pad:U},V={pad:0,soft:null,mode:0},$={min:V,max:V};function J(e,l,t,n){return He(t)?K(e,l,t):(V.pad=t,V.soft=n?0:null,V.mode=n?3:0,K(e,l,$))}function q(e,l){return null==e?l:e}function K(e,l,t){let n=t.min,i=t.max,o=q(n.pad,0),s=q(i.pad,0),r=q(n.hard,-he),u=q(i.hard,he),a=q(n.soft,he),f=q(i.soft,-he),c=q(n.mode,0),h=q(i.mode,0),d=l-e,p=ae(d),m=se(le(e),le(l)),g=ae(m),x=le(g-p);(d<1e-24||x>10)&&(d=0,0!=e&&0!=l||(d=1e-24,2==c&&a!=he&&(o=0),2==h&&f!=-he&&(s=0)));let w=d||m||1e3,_=ae(w),b=re(10,te(_)),v=Ee(Se(e-w*(0==d?0==e?.1:1:o),b/10),24),k=e>=a&&(1==c||3==c&&v<=a||2==c&&v>=a)?a:he,y=se(r,v<k&&e>=k?k:oe(k,v)),M=Ee(Me(l+w*(0==d?0==l?.1:1:s),b/10),24),S=l<=f&&(1==h||3==h&&M>=f||2==h&&M<=f)?f:-he,E=oe(u,M>S&&l<=S?S:se(S,M));return y==E&&0==y&&(E=100),[y,E]}const X=new Intl.NumberFormat(_?k.language:"en-US"),Z=e=>X.format(e),Q=Math,ee=Q.PI,le=Q.abs,te=Q.floor,ne=Q.round,ie=Q.ceil,oe=Q.min,se=Q.max,re=Q.pow,ue=Q.sign,ae=Q.log10,fe=Q.log2,ce=(e,l=1)=>Q.asinh(e/l),he=1/0;function de(e){return 1+(0|ae((e^e>>31)-(e>>31)))}function pe(e,l,t){return oe(se(e,l),t)}function me(e){return"function"==typeof e?e:()=>e}const ge=e=>e,xe=(e,l)=>l,we=e=>null,_e=e=>!0,be=(e,l)=>e==l,ve=/\.\d*?(?=9{6,}|0{6,})/gm,ke=e=>{if(Ce(e)||Te.has(e))return e;const l=`${e}`,t=l.match(ve);if(null==t)return e;let n=t[0].length-1;if(-1!=l.indexOf("e-")){let[e,t]=l.split("e");return+`${ke(e)}e${t}`}return Ee(e,n)};function ye(e,l){return ke(Ee(ke(e/l))*l)}function Me(e,l){return ke(ie(ke(e/l))*l)}function Se(e,l){return ke(te(ke(e/l))*l)}function Ee(e,l=0){if(Ce(e))return e;let t=10**l,n=e*t*(1+Number.EPSILON);return ne(n)/t}const Te=new Map;function ze(e){return((""+e).split(".")[1]||"").length}function De(e,l,t,n){let i=[],o=n.map(ze);for(let s=l;s<t;s++){let l=le(s),t=Ee(re(e,s),l);for(let r=0;r<n.length;r++){let u=10==e?+`${n[r]}e${s}`:n[r]*t,a=(s>=0?0:l)+(s>=o[r]?0:o[r]),f=10==e?u:Ee(u,a);i.push(f),Te.set(f,a)}}return i}const Ae={},Pe=[],We=[null,null],Ye=Array.isArray,Ce=Number.isInteger;function Fe(e){return"string"==typeof e}function He(e){let l=!1;if(null!=e){let t=e.constructor;l=null==t||t==Object}return l}function Re(e){return null!=e&&"object"==typeof e}const Ge=Object.getPrototypeOf(Uint8Array),Ie="__proto__";function Oe(e,l=He){let t;if(Ye(e)){let n=e.find((e=>null!=e));if(Ye(n)||l(n)){t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=Oe(e[n],l)}else t=e.slice()}else if(e instanceof Ge)t=e.slice();else if(l(e)){t={};for(let n in e)n!=Ie&&(t[n]=Oe(e[n],l))}else t=e;return t}function Le(e){let l=arguments;for(let t=1;t<l.length;t++){let n=l[t];for(let l in n)l!=Ie&&(He(e[l])?Le(e[l],Oe(n[l])):e[l]=Oe(n[l]))}return e}function Ne(e,l,t){for(let n,i=0,o=-1;i<l.length;i++){let s=l[i];if(s>o){for(n=s-1;n>=0&&null==e[n];)e[n--]=null;for(n=s+1;n<t&&null==e[n];)e[o=n++]=null}}}const je="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask;const Ue=["January","February","March","April","May","June","July","August","September","October","November","December"],Be=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Ve(e){return e.slice(0,3)}const $e=Be.map(Ve),Je=Ue.map(Ve),qe={MMMM:Ue,MMM:Je,WWWW:Be,WWW:$e};function Ke(e){return(e<10?"0":"")+e}const Xe={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Ke(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Ke(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Ke(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return 0==l?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Ke(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Ke(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>{return((l=e.getMilliseconds())<10?"00":l<100?"0":"")+l;var l}};function Ze(e,l){l=l||qe;let t,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;t=i.exec(e);)n.push("{"==t[0][0]?Xe[t[1]]:t[0]);return e=>{let t="";for(let i=0;i<n.length;i++)t+="string"==typeof n[i]?n[i]:n[i](e,l);return t}}const Qe=(new Intl.DateTimeFormat).resolvedOptions().timeZone;const el=e=>e%1==0,ll=[1,2,2.5,5],tl=De(10,-32,0,ll),nl=De(10,0,32,ll),il=nl.filter(el),ol=tl.concat(nl),sl="{YYYY}",rl="\n"+sl,ul="{M}/{D}",al="\n"+ul,fl=al+"/{YY}",cl="{aa}",hl="{h}:{mm}"+cl,dl="\n"+hl,pl=":{ss}",ml=null;function gl(e){let l=1e3*e,t=60*l,n=60*t,i=24*n,o=30*i,s=365*i;return[(1==e?De(10,0,3,ll).filter(el):De(10,-3,0,ll)).concat([l,5*l,10*l,15*l,30*l,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,sl,ml,ml,ml,ml,ml,ml,1],[28*i,"{MMM}",rl,ml,ml,ml,ml,ml,1],[i,ul,rl,ml,ml,ml,ml,ml,1],[n,"{h}"+cl,fl,ml,al,ml,ml,ml,1],[t,hl,fl,ml,al,ml,ml,ml,1],[l,pl,fl+" "+hl,ml,al+" "+hl,ml,dl,ml,1],[e,pl+".{fff}",fl+" "+hl,ml,al+" "+hl,ml,dl,ml,1]],function(l){return(r,u,a,f,c,h)=>{let d=[],p=c>=s,m=c>=o&&c<s,g=l(a),x=Ee(g*e,3),w=Sl(g.getFullYear(),p?0:g.getMonth(),m||p?1:g.getDate()),_=Ee(w*e,3);if(m||p){let t=m?c/o:0,n=p?c/s:0,i=x==_?x:Ee(Sl(w.getFullYear()+n,w.getMonth()+t,1)*e,3),r=new Date(ne(i/e)),u=r.getFullYear(),a=r.getMonth();for(let o=0;i<=f;o++){let s=Sl(u+n*o,a+t*o,1),r=s-l(Ee(s*e,3));i=Ee((+s+r)*e,3),i<=f&&d.push(i)}}else{let o=c>=i?i:c,s=_+(te(a)-te(x))+Me(x-_,o);d.push(s);let p=l(s),m=p.getHours()+p.getMinutes()/t+p.getSeconds()/n,g=c/n,w=h/r.axes[u]._space;for(;s=Ee(s+c,1==e?0:3),!(s>f);)if(g>1){let e=te(Ee(m+g,6))%24,t=l(s).getHours()-e;t>1&&(t=-1),s-=t*n,m=(m+g)%24,Ee((s-d[d.length-1])/c,3)*w>=.7&&d.push(s)}else d.push(s)}return d}}]}const[xl,wl,_l]=gl(1),[bl,vl,kl]=gl(.001);function yl(e,l){return e.map((e=>e.map(((t,n)=>0==n||8==n||null==t?t:l(1==n||0==e[8]?t:e[1]+t)))))}function Ml(e,l){return(t,n,i,o,s)=>{let r,u,a,f,c,h,d=l.find((e=>s>=e[0]))||l[l.length-1];return n.map((l=>{let t=e(l),n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),p=t.getMinutes(),m=t.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=f&&d[5]||p!=c&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,f=s,c=p,h=m,g(t)}))}}function Sl(e,l,t){return new Date(e,l,t)}function El(e,l){return l(e)}De(2,-53,53,[1]);function Tl(e,l){return(t,n,i,o)=>null==o?w:l(e(n))}const zl={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(e,l){let t=e.series[l];return t.width?t.stroke(e,l):t.points.width?t.points.stroke(e,l):null},fill:function(e,l){return e.series[l].fill(e,l)},dash:"solid"},idx:null,idxs:null,values:[]};const Dl=[0,0];function Al(e,l,t,n=!0){return e=>{0==e.button&&(!n||e.target==l)&&t(e)}}function Pl(e,l,t,n=!0){return e=>{(!n||e.target==l)&&t(e)}}const Wl={show:!0,x:!0,y:!0,lock:!1,move:function(e,l,t){return Dl[0]=l,Dl[1]=t,Dl},points:{one:!1,show:function(e,l){let i=e.cursor.points,o=D(),s=i.size(e,l);T(o,t,s),T(o,n,s);let r=s/-2;T(o,"marginLeft",r),T(o,"marginTop",r);let u=i.width(e,l,s);return u&&T(o,"borderWidth",u),o},size:function(e,l){return e.series[l].points.size},width:0,stroke:function(e,l){let t=e.series[l].points;return t._stroke||t._fill},fill:function(e,l){let t=e.series[l].points;return t._fill||t._stroke}},bind:{mousedown:Al,mouseup:Al,click:Al,dblclick:Al,mousemove:Pl,mouseleave:Pl,mouseenter:Pl},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,l,t,n,i)=>n-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Yl={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Cl=Le({},Yl,{filter:xe}),Fl=Le({},Cl,{size:10}),Hl=Le({},Yl,{show:!1}),Rl='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Gl="bold "+Rl,Il={show:!0,scale:"x",stroke:u,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Gl,side:2,grid:Cl,ticks:Fl,border:Hl,font:Rl,lineGap:1.5,rotate:0},Ol={show:!0,scale:"x",auto:!1,sorted:1,min:he,max:-he,idxs:[]};function Ll(e,l,t,n,i){return l.map((e=>null==e?"":Z(e)))}function Nl(e,l,t,n,i,o,s){let r=[],u=Te.get(i)||0;for(let e=t=s?t:Ee(Me(t,i),u);e<=n;e=Ee(e+i,u))r.push(Object.is(e,-0)?0:e);return r}function jl(e,l,t,n,i,o,s){const r=[],u=e.scales[e.axes[l].scale].log,a=te((10==u?ae:fe)(t));i=re(u,a),10==u&&(i=ol[O(i,ol)]);let f=t,c=i*u;10==u&&(c=ol[O(c,ol)]);do{r.push(f),f+=i,10!=u||Te.has(f)||(f=Ee(f,Te.get(i))),f>=c&&(c=(i=f)*u,10==u&&(c=ol[O(c,ol)]))}while(f<=n);return r}function Ul(e,l,t,n,i,o,s){let r=e.scales[e.axes[l].scale].asinh,u=n>r?jl(e,l,se(r,t),n,i):[r],a=n>=0&&t<=0?[0]:[];return(t<-r?jl(e,l,se(r,-n),-t,i):[r]).reverse().map((e=>-e)).concat(a,u)}const Bl=/./,Vl=/[12357]/,$l=/[125]/,Jl=/1/,ql=(e,l,t,n)=>e.map(((e,i)=>4==l&&0==e||i%n==0&&t.test(e.toExponential()[e<0?1:0])?e:null));function Kl(e,l,t,n,i){let o=e.axes[t],s=o.scale,r=e.scales[s],u=e.valToPos,a=o._space,f=u(10,s),c=u(9,s)-f>=a?Bl:u(7,s)-f>=a?Vl:u(5,s)-f>=a?$l:Jl;if(c==Jl){let e=le(u(1,s)-f);if(e<a)return ql(l.slice().reverse(),r.distr,c,ie(a/e)).reverse()}return ql(l,r.distr,c,1)}function Xl(e,l,t,n,i){let o=e.axes[t],s=o.scale,r=o._space,u=e.valToPos,a=le(u(1,s)-u(2,s));return a<r?ql(l.slice().reverse(),3,Bl,ie(r/a)).reverse():l}function Zl(e,l,t,n){return null==n?w:null==l?"":Z(l)}const Ql={show:!0,scale:"y",stroke:u,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Gl,side:3,grid:Cl,ticks:Fl,border:Hl,font:Rl,lineGap:1.5,rotate:0};const et={scale:null,auto:!0,sorted:0,min:he,max:-he},lt=(e,l,t,n,i)=>i,tt={show:!0,auto:!0,sorted:0,gaps:lt,alpha:1,facets:[Le({},et,{scale:"x"}),Le({},et,{scale:"y"})]},nt={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:lt,alpha:1,points:{show:function(e,l){let{scale:t,idxs:n}=e.series[0],i=e._data[0],o=e.valToPos(i[n[0]],t,!0),s=e.valToPos(i[n[1]],t,!0),r=le(s-o)/(e.series[l].points.space*y);return n[1]-n[0]<=r},filter:null},values:null,min:he,max:-he,idxs:[],path:null,clip:null};function it(e,l,t,n,i){return t/10}const ot={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},st=Le({},ot,{time:!1,ori:1}),rt={};function ut(e,l){let t=rt[e];return t||(t={key:e,plots:[],sub(e){t.plots.push(e)},unsub(e){t.plots=t.plots.filter((l=>l!=e))},pub(e,l,n,i,o,s,r){for(let u=0;u<t.plots.length;u++)t.plots[u]!=l&&t.plots[u].pub(e,l,n,i,o,s,r)}},null!=e&&(rt[e]=t)),t}const at=1;function ft(e,l,t){const n=e.mode,i=e.series[l],o=2==n?e._data[l]:e._data,s=e.scales,r=e.bbox;let u=o[0],a=2==n?o[1]:o[l],f=2==n?s[i.facets[0].scale]:s[e.series[0].scale],c=2==n?s[i.facets[1].scale]:s[i.scale],h=r.left,d=r.top,p=r.width,m=r.height,g=e.valToPosH,x=e.valToPosV;return 0==f.ori?t(i,u,a,f,c,g,x,h,d,p,m,wt,bt,kt,Mt,Et):t(i,u,a,f,c,x,g,d,h,m,p,_t,vt,yt,St,Tt)}function ct(e,l){let t=0,n=0,i=q(e.bands,Pe);for(let e=0;e<i.length;e++){let o=i[e];o.series[0]==l?t=o.dir:o.series[1]==l&&(1==o.dir?n|=1:n|=2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function ht(e,l,t,n,i){let o=e.mode,s=e.series[l],r=2==o?s.facets[1].scale:s.scale,u=e.scales[r];return-1==i?u.min:1==i?u.max:3==u.distr?1==u.dir?u.min:u.max:0}function dt(e,l,t,n,i,o){return ft(e,l,((e,l,s,r,u,a,f,c,h,d,p)=>{let m=e.pxRound;const g=r.dir*(0==r.ori?1:-1),x=0==r.ori?bt:vt;let w,_;1==g?(w=t,_=n):(w=n,_=t);let b=m(a(l[w],r,d,c)),v=m(f(s[w],u,p,h)),k=m(a(l[_],r,d,c)),y=m(f(1==o?u.max:u.min,u,p,h)),M=new Path2D(i);return x(M,k,y),x(M,b,y),x(M,b,v),M}))}function pt(e,l,t,n,i,o){let s=null;if(e.length>0){s=new Path2D;const r=0==l?kt:yt;let u=t;for(let l=0;l<e.length;l++){let t=e[l];if(t[1]>t[0]){let e=t[0]-u;e>0&&r(s,u,n,e,n+o),u=t[1]}}let a=t+i-u,f=10;a>0&&r(s,u,n-f/2,a,n+o+f)}return s}function mt(e,l,t,n,i,o,s){let r=[],u=e.length;for(let a=1==i?t:n;a>=t&&a<=n;a+=i){if(null===l[a]){let f=a,c=a;if(1==i)for(;++a<=n&&null===l[a];)c=a;else for(;--a>=t&&null===l[a];)c=a;let h=o(e[f]),d=c==f?h:o(e[c]),p=f-i;h=s<=0&&p>=0&&p<u?o(e[p]):h;let m=c+i;d=s>=0&&m>=0&&m<u?o(e[m]):d,d>=h&&r.push([h,d])}}return r}function gt(e){return 0==e?ge:1==e?ne:l=>ye(l,e)}function xt(e){let l=0==e?wt:_t,t=0==e?(e,l,t,n,i,o)=>{e.arcTo(l,t,n,i,o)}:(e,l,t,n,i,o)=>{e.arcTo(t,l,i,n,o)},n=0==e?(e,l,t,n,i)=>{e.rect(l,t,n,i)}:(e,l,t,n,i)=>{e.rect(t,l,i,n)};return(e,i,o,s,r,u=0,a=0)=>{0==u&&0==a?n(e,i,o,s,r):(u=oe(u,s/2,r/2),a=oe(a,s/2,r/2),l(e,i+u,o),t(e,i+s,o,i+s,o+r,u),t(e,i+s,o+r,i,o+r,a),t(e,i,o+r,i,o,a),t(e,i,o,i+s,o,u),e.closePath())}}const wt=(e,l,t)=>{e.moveTo(l,t)},_t=(e,l,t)=>{e.moveTo(t,l)},bt=(e,l,t)=>{e.lineTo(l,t)},vt=(e,l,t)=>{e.lineTo(t,l)},kt=xt(0),yt=xt(1),Mt=(e,l,t,n,i,o)=>{e.arc(l,t,n,i,o)},St=(e,l,t,n,i,o)=>{e.arc(t,l,n,i,o)},Et=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(l,t,n,i,o,s)},Tt=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(t,l,i,n,s,o)};function zt(e){return(e,l,t,n,i)=>ft(e,l,((l,o,s,r,u,a,f,c,h,d,p)=>{let m,g,{pxRound:x,points:w}=l;0==r.ori?(m=wt,g=Mt):(m=_t,g=St);const _=Ee(w.width*y,3);let b=(w.size-w.width)/2*y,v=Ee(2*b,3),k=new Path2D,M=new Path2D,{left:S,top:E,width:T,height:z}=e.bbox;kt(M,S-v,E-v,T+2*v,z+2*v);const D=e=>{if(null!=s[e]){let l=x(a(o[e],r,d,c)),t=x(f(s[e],u,p,h));m(k,l+b,t),g(k,l,t,b,0,2*ee)}};if(i)i.forEach(D);else for(let e=t;e<=n;e++)D(e);return{stroke:_>0?k:null,fill:k,clip:M,flags:2|at}}))}function Dt(e){return(l,t,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&e(l,t,n),o!=i&&s!=i&&e(l,t,i),e(l,t,s))}}const At=Dt(bt),Pt=Dt(vt);function Wt(e){const l=q(e?.alignGaps,0);return(e,t,n,i)=>ft(e,t,((o,s,r,u,a,f,c,h,d,p,m)=>{let g,x,w=o.pxRound,_=e=>w(f(e,u,p,h)),b=e=>w(c(e,a,m,d));0==u.ori?(g=bt,x=At):(g=vt,x=Pt);const v=u.dir*(0==u.ori?1:-1),k={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:at},y=k.stroke;let M,S,E,T=he,z=-he,D=_(s[1==v?n:i]),A=L(r,n,i,1*v),P=L(r,n,i,-1*v),W=_(s[A]),Y=_(s[P]),C=!1;for(let e=1==v?n:i;e>=n&&e<=i;e+=v){let l=_(s[e]),t=r[e];l==D?null!=t?(S=b(t),T==he&&(g(y,l,S),M=S),T=oe(S,T),z=se(S,z)):null===t&&(C=!0):(T!=he&&(x(y,D,T,z,M,S),E=D),null!=t?(S=b(t),g(y,l,S),T=z=M=S):(T=he,z=-he,null===t&&(C=!0)),D=l)}T!=he&&T!=z&&E!=D&&x(y,D,T,z,M,S);let[F,H]=ct(e,t);if(null!=o.fill||0!=F){let l=k.fill=new Path2D(y),n=b(o.fillTo(e,t,o.min,o.max,F));g(l,Y,n),g(l,W,n)}if(!o.spanGaps){let a=[];C&&a.push(...mt(s,r,n,i,v,_,l)),k.gaps=a=o.gaps(e,t,n,i,a),k.clip=pt(a,u.ori,h,d,p,m)}return 0!=H&&(k.band=2==H?[dt(e,t,n,i,y,-1),dt(e,t,n,i,y,1)]:dt(e,t,n,i,y,H)),k}))}function Yt(e,l,t,n,i,o,s=he){if(e.length>1){let r=null;for(let u=0,a=1/0;u<e.length;u++)if(void 0!==l[u]){if(null!=r){let l=le(e[u]-e[r]);l<a&&(a=l,s=le(t(e[u],n,i,o)-t(e[r],n,i,o)))}r=u}}return s}function Ct(e,l,t,n,i,o){const s=e.length;if(s<2)return null;const r=new Path2D;if(t(r,e[0],l[0]),2==s)n(r,e[1],l[1]);else{let t=Array(s),n=Array(s-1),o=Array(s-1),u=Array(s-1);for(let t=0;t<s-1;t++)o[t]=l[t+1]-l[t],u[t]=e[t+1]-e[t],n[t]=o[t]/u[t];t[0]=n[0];for(let e=1;e<s-1;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?t[e]=0:(t[e]=3*(u[e-1]+u[e])/((2*u[e]+u[e-1])/n[e-1]+(u[e]+2*u[e-1])/n[e]),isFinite(t[e])||(t[e]=0));t[s-1]=n[s-2];for(let n=0;n<s-1;n++)i(r,e[n]+u[n]/3,l[n]+t[n]*u[n]/3,e[n+1]-u[n]/3,l[n+1]-t[n+1]*u[n]/3,e[n+1],l[n+1])}return r}const Ft=new Set;function Ht(){for(let e of Ft)e.syncRect(!0)}_&&(G("resize",v,Ht),G("scroll",v,Ht,!0),G(x,v,(()=>{Xt.pxRatio=y})));const Rt=Wt(),Gt=zt();function It(e,l,t,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,n)=>Ot(e,n,l,t)))}function Ot(e,l,t,n){return Le({},0==l?t:n,e)}function Lt(e,l,t){return null==l?We:[l,t]}const Nt=Lt;function jt(e,l,t){return null==l?We:J(l,t,U,!0)}function Ut(e,l,t,n){return null==l?We:N(l,t,e.scales[n].log,!1)}const Bt=Ut;function Vt(e,l,t,n){return null==l?We:j(l,t,e.scales[n].log,!1)}const $t=Vt;function Jt(e,l,t,n,i){let o=se(de(e),de(l)),s=l-e,r=O(i/n*s,t);do{let e=t[r],l=n*e/s;if(l>=i&&o+(e<5?Te.get(e):0)<=17)return[e,l]}while(++r<t.length);return[0,0]}function qt(e){let l,t;return[e=e.replace(/(\d+)px/,((e,n)=>(l=ne((t=+n)*y))+"px")),l,t]}function Kt(e){e.show&&[e.font,e.labelFont].forEach((e=>{let l=Ee(e[2]*y,1);e[0]=e[0].replace(/[0-9.]+px/,l+"px"),e[1]=l}))}function Xt(u,g,_){const k={mode:q(u.mode,1)},M=k.mode;function A(e,l){return((3==l.distr?ae(e>0?e:l.clamp(k,e,l.min,l.max,l.key)):4==l.distr?ce(e,l.asinh):100==l.distr?l.fwd(e):e)-l._min)/(l._max-l._min)}function W(e,l,t,n){let i=A(e,l);return n+t*(-1==l.dir?1-i:i)}function C(e,l,t,n){let i=A(e,l);return n+t*(-1==l.dir?i:1-i)}function H(e,l,t,n){return 0==l.ori?W(e,l,t,n):C(e,l,t,n)}k.valToPosH=W,k.valToPosV=C;let R=!1;k.status=0;const L=k.root=D("uplot");if(null!=u.id&&(L.id=u.id),S(L,u.class),u.title){D("u-title",L).textContent=u.title}const V=z("canvas"),$=k.ctx=V.getContext("2d"),K=D("u-wrap",L);G("click",K,(e=>{if(e.target===Z){(In!=Fn||On!=Hn)&&qn.click(k,e)}}),!0);const X=k.under=D("u-under",K);K.appendChild(V);const Z=k.over=D("u-over",K),te=+q((u=Oe(u)).pxAlign,1),ue=gt(te);(u.plugins||[]).forEach((e=>{e.opts&&(u=e.opts(k,u)||u)}));const fe=u.ms||.001,de=k.series=1==M?It(u.series||[],Ol,nt,!1):(ge=u.series||[null],ve=tt,ge.map(((e,l)=>0==l?{}:Le({},ve,e))));var ge,ve;const ke=k.axes=It(u.axes||[],Il,Ql,!0),Me=k.scales={},Se=k.bands=u.bands||[];Se.forEach((e=>{e.fill=me(e.fill||null),e.dir=q(e.dir,-1)}));const De=2==M?de[1].facets[0].scale:de[0].scale,Ce={axes:function(){for(let e=0;e<ke.length;e++){let l=ke[e];if(!l.show||!l._show)continue;let t,n,u=l.side,a=u%2,f=l.stroke(k,e),c=0==u||3==u?-1:1;if(l.label){let e=l.labelGap*c,s=ne((l._lpos+e)*y);gn(l.labelFont[0],f,"center",2==u?i:o),$.save(),1==a?(t=n=0,$.translate(s,ne(ql+lt/2)),$.rotate((3==u?-ee:ee)/2)):(t=ne(Jl+et/2),n=s),$.fillText(l.label,t,n),$.restore()}let[h,d]=l._found;if(0==d)continue;let p=Me[l.scale],m=0==a?et:lt,g=0==a?Jl:ql,x=ne(l.gap*y),w=l._splits,_=2==p.distr?w.map((e=>cn[e])):w,b=2==p.distr?cn[w[1]]-cn[w[0]]:h,v=l.ticks,M=l.border,S=v.show?ne(v.size*y):0,E=l._rotate*-ee/180,T=ue(l._pos*y),z=T+(S+x)*c;n=0==a?z:0,t=1==a?z:0,gn(l.font[0],f,1==l.align?s:2==l.align?r:E>0?s:E<0?r:0==a?"center":3==u?r:s,E||1==a?"middle":2==u?i:o);let D=l.font[1]*l.lineGap,A=w.map((e=>ue(H(e,p,m,g)))),P=l._values;for(let e=0;e<P.length;e++){let l=P[e];if(null!=l){0==a?t=A[e]:n=A[e],l=""+l;let i=-1==l.indexOf("\n")?[l]:l.split(/\n/gm);for(let e=0;e<i.length;e++){let l=i[e];E?($.save(),$.translate(t,n+e*D),$.rotate(E),$.fillText(l,0,0),$.restore()):$.fillText(l,t,n+e*D)}}}v.show&&Sn(A,v.filter(k,_,e,d,b),a,u,T,S,Ee(v.width*y,3),v.stroke(k,e),v.dash,v.cap);let W=l.grid;W.show&&Sn(A,W.filter(k,_,e,d,b),a,0==a?2:1,0==a?ql:Jl,0==a?lt:et,Ee(W.width*y,3),W.stroke(k,e),W.dash,W.cap),M.show&&Sn([T],[1],0==a?1:0,0==a?1:2,1==a?ql:Jl,1==a?lt:et,Ee(M.width*y,3),M.stroke(k,e),M.dash,M.cap)}Pi("drawAxes")},series:function(){Ht>0&&(de.forEach(((e,l)=>{if(l>0&&e.show&&(_n(l,!1),_n(l,!0),null==e._paths)){fn!=e.alpha&&($.globalAlpha=fn=e.alpha);let t=2==M?[0,g[l][0].length-1]:function(e){let l=pe(Xt-1,0,Ht-1),t=pe(Zt+1,0,Ht-1);for(;null==e[l]&&l>0;)l--;for(;null==e[t]&&t<Ht-1;)t++;return[l,t]}(g[l]);e._paths=e.paths(k,l,t[0],t[1]),1!=fn&&($.globalAlpha=fn=1)}})),de.forEach(((e,l)=>{if(l>0&&e.show){fn!=e.alpha&&($.globalAlpha=fn=e.alpha),null!=e._paths&&bn(l,!1);{let t=null!=e._paths?e._paths.gaps:null,n=e.points.show(k,l,Xt,Zt,t),i=e.points.filter(k,l,n,t);(n||i)&&(e.points._paths=e.points.paths(k,l,Xt,Zt,i),bn(l,!0))}1!=fn&&($.globalAlpha=fn=1),Pi("drawSeries",l)}})))}},Ge=(u.drawOrder||["axes","series"]).map((e=>Ce[e]));function Ie(e){let l=Me[e];if(null==l){let t=(u.scales||Ae)[e]||Ae;if(null!=t.from)Ie(t.from),Me[e]=Le({},Me[t.from],t,{key:e});else{l=Me[e]=Le({},e==De?ot:st,t),l.key=e;let n=l.time,i=l.range,o=Ye(i);if((e!=De||2==M&&!n)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?B:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?B:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&He(i))){let e=i;i=(l,t,n)=>null==t?We:J(t,n,e)}l.range=me(i||(n?Nt:e==De?3==l.distr?Bt:4==l.distr?$t:Lt:3==l.distr?Ut:4==l.distr?Vt:jt)),l.auto=me(!o&&l.auto),l.clamp=me(l.clamp||it),l._min=l._max=null}}}Ie("x"),Ie("y"),1==M&&de.forEach((e=>{Ie(e.scale)})),ke.forEach((e=>{Ie(e.scale)}));for(let e in u.scales)Ie(e);const Ne=Me[De],Ue=Ne.distr;let Be,Ve;0==Ne.ori?(S(L,"u-hz"),Be=W,Ve=C):(S(L,"u-vt"),Be=C,Ve=W);const $e={};for(let e in Me){let l=Me[e];null==l.min&&null==l.max||($e[e]={min:l.min,max:l.max},l.min=l.max=null)}const Je=u.tzDate||(e=>new Date(ne(e/fe))),qe=u.fmtDate||Ze,Ke=1==fe?_l(Je):kl(Je),Xe=Ml(Je,yl(1==fe?wl:vl,qe)),Qe=Tl(Je,El("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",qe)),el=[],ll=k.legend=Le({},zl,u.legend),tl=ll.show,nl=ll.markers;let sl,rl,ul;ll.idxs=el,nl.width=me(nl.width),nl.dash=me(nl.dash),nl.stroke=me(nl.stroke),nl.fill=me(nl.fill);let al,fl=[],cl=[],hl=!1,dl={};if(ll.live){const e=de[1]?de[1].values:null;hl=null!=e,al=hl?e(k,1,0):{_:0};for(let e in al)dl[e]=w}if(tl)if(sl=z("table","u-legend",L),ul=z("tbody",null,sl),ll.mount(k,sl),hl){rl=z("thead",null,sl,ul);let e=z("tr",null,rl);for(var pl in z("th",null,e),al)z("th",l,e).textContent=pl}else S(sl,"u-inline"),ll.live&&S(sl,"u-live");const ml={show:!0},gl={show:!1};const Sl=new Map;function Dl(e,l,t,n=!0){const i=Sl.get(l)||{},o=bt.bind[e](k,l,t,n);o&&(G(e,l,i[e]=o),Sl.set(l,i))}function Al(e,l,t){const n=Sl.get(l)||{};for(let t in n)null!=e&&t!=e||(I(t,l,n[t]),delete n[t]);null==e&&Sl.delete(l)}let Pl=0,Yl=0,Cl=0,Fl=0,Hl=0,Rl=0,Gl=Hl,Bl=Rl,Vl=Cl,$l=Fl,Jl=0,ql=0,et=0,lt=0;k.bbox={};let rt=!1,ft=!1,ct=!1,dt=!1,pt=!1,mt=!1;function xt(e,l,t){(t||e!=k.width||l!=k.height)&&wt(e,l),zn(!1),ct=!0,ft=!0,Bn()}function wt(e,l){k.width=Pl=Cl=e,k.height=Yl=Fl=l,Hl=Rl=0,function(){let e=!1,l=!1,t=!1,n=!1;ke.forEach(((i,o)=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=o%2,u=s+(null!=i.label?i.labelSize:0);u>0&&(r?(Cl-=u,3==o?(Hl+=u,n=!0):t=!0):(Fl-=u,0==o?(Rl+=u,e=!0):l=!0))}})),Pt[0]=e,Pt[1]=t,Pt[2]=l,Pt[3]=n,Cl-=Ct[1]+Ct[3],Hl+=Ct[3],Fl-=Ct[2]+Ct[0],Rl+=Ct[0]}(),function(){let e=Hl+Cl,l=Rl+Fl,t=Hl,n=Rl;function i(i,o){switch(i){case 1:return e+=o,e-o;case 2:return l+=o,l-o;case 3:return t-=o,t+o;case 0:return n-=o,n+o}}ke.forEach(((e,l)=>{if(e.show&&e._show){let l=e.side;e._pos=i(l,e._size),null!=e.label&&(e._lpos=i(l,e.labelSize))}}))}();let t=k.bbox;Jl=t.left=ye(Hl*y,.5),ql=t.top=ye(Rl*y,.5),et=t.width=ye(Cl*y,.5),lt=t.height=ye(Fl*y,.5)}const _t=3;k.setSize=function({width:e,height:l}){xt(e,l)};const bt=k.cursor=Le({},Wl,{drag:{y:2==M}},u.cursor);if(null==bt.dataIdx){let e=bt.hover,l=e.skip=new Set(e.skip??[]);l.add(void 0);let t=e.prox=me(e.prox),n=e.bias??=0;bt.dataIdx=(e,i,o,s)=>{if(0==i)return o;let r=o,u=t(e,i,o,s)??he,a=u>=0&&u<he,f=0==Ne.ori?Cl:Fl,c=bt.left,h=g[0],d=g[i];if(l.has(d[o])){r=null;let e,t=null,i=null;if(0==n||-1==n)for(e=o;null==t&&e-- >0;)l.has(d[e])||(t=e);if(0==n||1==n)for(e=o;null==i&&e++<d.length;)l.has(d[e])||(i=e);if(null!=t||null!=i)if(a){let e=c-(null==t?-1/0:Be(h[t],Ne,f,0)),l=(null==i?1/0:Be(h[i],Ne,f,0))-c;e<=l?e<=u&&(r=t):l<=u&&(r=i)}else r=null==i?t:null==t?i:o-t<=i-o?t:i}else if(a){le(c-Be(h[o],Ne,f,0))>u&&(r=null)}return r}}const vt=e=>{bt.event=e};bt.idxs=el,bt._lock=!1;let kt=bt.points;kt.show=me(kt.show),kt.size=me(kt.size),kt.stroke=me(kt.stroke),kt.width=me(kt.width),kt.fill=me(kt.fill);const yt=k.focus=Le({},u.focus||{alpha:.3},bt.focus),Mt=yt.prox>=0,St=Mt&&kt.one;let Et=[],Tt=[],zt=[];function Dt(e,l){let t=kt.show(k,l);if(t)return S(t,"u-cursor-pt"),S(t,e.class),P(t,-10,-10,Cl,Fl),Z.insertBefore(t,Et[l]),t}function At(t,n){if(1==M||n>0){let e=1==M&&Me[t.scale].time,l=t.value;t.value=e?Fe(l)?Tl(Je,El(l,qe)):l||Qe:l||Zl,t.label=t.label||(e?"Time":"Value")}if(St||n>0){t.width=null==t.width?1:t.width,t.paths=t.paths||Rt||we,t.fillTo=me(t.fillTo||ht),t.pxAlign=+q(t.pxAlign,te),t.pxRound=gt(t.pxAlign),t.stroke=me(t.stroke||null),t.fill=me(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let e=Ee((3+2*(se(1,t.width)||1))*1,3),l=t.points=Le({},{size:e,width:se(1,.2*e),stroke:t.stroke,space:2*e,paths:Gt,_stroke:null,_fill:null},t.points);l.show=me(l.show),l.filter=me(l.filter),l.fill=me(l.fill),l.stroke=me(l.stroke),l.paths=me(l.paths),l.pxAlign=t.pxAlign}if(tl){let i=function(t,n){if(0==n&&(hl||!ll.live||2==M))return We;let i=[],o=z("tr","u-series",ul,ul.childNodes[n]);S(o,t.class),t.show||S(o,e);let s=z("th",null,o);if(nl.show){let e=D("u-marker",s);if(n>0){let l=nl.width(k,n);l&&(e.style.border=l+"px "+nl.dash(k,n)+" "+nl.stroke(k,n)),e.style.background=nl.fill(k,n)}}let r=D(l,s);for(var u in r.textContent=t.label,n>0&&(nl.show||(r.style.color=t.width>0?nl.stroke(k,n):nl.fill(k,n)),Dl("click",s,(e=>{if(bt._lock)return;vt(e);let l=de.indexOf(t);if((e.ctrlKey||e.metaKey)!=ll.isolate){let e=de.some(((e,t)=>t>0&&t!=l&&e.show));de.forEach(((t,n)=>{n>0&&ti(n,e?n==l?ml:gl:ml,!0,Yi.setSeries)}))}else ti(l,{show:!t.show},!0,Yi.setSeries)}),!1),Mt&&Dl(d,s,(e=>{bt._lock||(vt(e),ti(de.indexOf(t),si,!0,Yi.setSeries))}),!1)),al){let e=z("td","u-value",o);e.textContent="--",i.push(e)}return[o,i]}(t,n);fl.splice(n,0,i[0]),cl.splice(n,0,i[1]),ll.values.push(null)}if(bt.show){el.splice(n,0,null);let e=null;St?0==n&&(e=Dt(t,n)):n>0&&(e=Dt(t,n)),Et.splice(n,0,e),Tt.splice(n,0,0),zt.splice(n,0,0)}Pi("addSeries",n)}k.addSeries=function(e,l){l=null==l?de.length:l,e=1==M?Ot(e,l,Ol,nt):Ot(e,l,{},tt),de.splice(l,0,e),At(de[l],l)},k.delSeries=function(e){if(de.splice(e,1),tl){ll.values.splice(e,1),cl.splice(e,1);let l=fl.splice(e,1)[0];Al(null,l.firstChild),l.remove()}bt.show&&(el.splice(e,1),Et.splice(e,1)[0].remove(),Tt.splice(e,1),zt.splice(e,1)),Pi("delSeries",e)};const Pt=[!1,!1,!1,!1];function Wt(e,l,t,n){let[i,o,s,r]=t,u=l%2,a=0;return 0==u&&(r||o)&&(a=0==l&&!i||2==l&&!s?ne(Il.size/3):0),1==u&&(i||s)&&(a=1==l&&!o||3==l&&!r?ne(Ql.size/2):0),a}const Yt=k.padding=(u.padding||[Wt,Wt,Wt,Wt]).map((e=>me(q(e,Wt)))),Ct=k._padding=Yt.map(((e,l)=>e(k,l,Pt,0)));let Ht,Xt=null,Zt=null;const Qt=1==M?de[0].idxs:null;let en,ln,tn,nn,on,sn,rn,un,an,fn,cn=null,hn=!1;function dn(e,l){if(g=null==e?[]:e,k.data=k._data=g,2==M){Ht=0;for(let e=1;e<de.length;e++)Ht+=g[e][0].length}else{0==g.length&&(k.data=k._data=g=[[]]),cn=g[0],Ht=cn.length;let e=g;if(2==Ue){e=g.slice();let l=e[0]=Array(Ht);for(let e=0;e<Ht;e++)l[e]=e}k._data=g=e}if(zn(!0),Pi("setData"),2==Ue&&(ct=!0),!1!==l){let e=Ne;e.auto(k,hn)?pn():li(De,e.min,e.max),dt=dt||bt.left>=0,mt=!0,Bn()}}function pn(){let e,l;hn=!0,1==M&&(Ht>0?(Xt=Qt[0]=0,Zt=Qt[1]=Ht-1,e=g[0][Xt],l=g[0][Zt],2==Ue?(e=Xt,l=Zt):e==l&&(3==Ue?[e,l]=N(e,e,Ne.log,!1):4==Ue?[e,l]=j(e,e,Ne.log,!1):Ne.time?l=e+ne(86400/fe):[e,l]=J(e,l,U,!0))):(Xt=Qt[0]=e=null,Zt=Qt[1]=l=null)),li(De,e,l)}function mn(e,l,t,n,i,o){e??=a,t??=Pe,n??="butt",i??=a,o??="round",e!=en&&($.strokeStyle=en=e),i!=ln&&($.fillStyle=ln=i),l!=tn&&($.lineWidth=tn=l),o!=on&&($.lineJoin=on=o),n!=sn&&($.lineCap=sn=n),t!=nn&&$.setLineDash(nn=t)}function gn(e,l,t,n){l!=ln&&($.fillStyle=ln=l),e!=rn&&($.font=rn=e),t!=un&&($.textAlign=un=t),n!=an&&($.textBaseline=an=n)}function xn(e,l,t,n,i=0){if(n.length>0&&e.auto(k,hn)&&(null==l||null==l.min)){let l=q(Xt,0),o=q(Zt,n.length-1),s=null==t.min?3==e.distr?function(e,l,t){let n=he,i=-he;for(let o=l;o<=t;o++){let l=e[o];null!=l&&l>0&&(l<n&&(n=l),l>i&&(i=l))}return[n,i]}(n,l,o):function(e,l,t,n){let i=he,o=-he;if(1==n)i=e[l],o=e[t];else if(-1==n)i=e[t],o=e[l];else for(let n=l;n<=t;n++){let l=e[n];null!=l&&(l<i&&(i=l),l>o&&(o=l))}return[i,o]}(n,l,o,i):[t.min,t.max];e.min=oe(e.min,t.min=s[0]),e.max=se(e.max,t.max=s[1])}}k.setData=dn;const wn={min:null,max:null};function _n(e,l){let t=l?de[e].points:de[e];t._stroke=t.stroke(k,e),t._fill=t.fill(k,e)}function bn(e,l){let t=l?de[e].points:de[e],{stroke:n,fill:i,clip:o,flags:s,_stroke:r=t._stroke,_fill:u=t._fill,_width:a=t.width}=t._paths;a=Ee(a*y,3);let f=null,c=a%2/2;l&&null==u&&(u=a>0?"#fff":r);let h=1==t.pxAlign&&c>0;if(h&&$.translate(c,c),!l){let e=Jl-a/2,l=ql-a/2,t=et+a,n=lt+a;f=new Path2D,f.rect(e,l,t,n)}l?kn(r,a,t.dash,t.cap,u,n,i,s,o):function(e,l,t,n,i,o,s,r,u,a,f){let c=!1;0!=u&&Se.forEach(((h,d)=>{if(h.series[0]==e){let e,p=de[h.series[1]],m=g[h.series[1]],x=(p._paths||Ae).band;Ye(x)&&(x=1==h.dir?x[0]:x[1]);let w=null;p.show&&x&&function(e,l,t){for(l=q(l,0),t=q(t,e.length-1);l<=t;){if(null!=e[l])return!0;l++}return!1}(m,Xt,Zt)?(w=h.fill(k,d)||o,e=p._paths.clip):x=null,kn(l,t,n,i,w,s,r,u,a,f,e,x),c=!0}})),c||kn(l,t,n,i,o,s,r,u,a,f)}(e,r,a,t.dash,t.cap,u,n,i,s,f,o),h&&$.translate(-c,-c)}const vn=2|at;function kn(e,l,t,n,i,o,s,r,u,a,f,c){mn(e,l,t,n,i),(u||a||c)&&($.save(),u&&$.clip(u),a&&$.clip(a)),c?(r&vn)==vn?($.clip(c),f&&$.clip(f),Mn(i,s),yn(e,o,l)):2&r?(Mn(i,s),$.clip(c),yn(e,o,l)):r&at&&($.save(),$.clip(c),f&&$.clip(f),Mn(i,s),$.restore(),yn(e,o,l)):(Mn(i,s),yn(e,o,l)),(u||a||c)&&$.restore()}function yn(e,l,t){t>0&&(l instanceof Map?l.forEach(((e,l)=>{$.strokeStyle=en=l,$.stroke(e)})):null!=l&&e&&$.stroke(l))}function Mn(e,l){l instanceof Map?l.forEach(((e,l)=>{$.fillStyle=ln=l,$.fill(e)})):null!=l&&e&&$.fill(l)}function Sn(e,l,t,n,i,o,s,r,u,a){let f=s%2/2;1==te&&$.translate(f,f),mn(r,s,u,a,r),$.beginPath();let c,h,d,p,m=i+(0==n||3==n?-o:o);0==t?(h=i,p=m):(c=i,d=m);for(let n=0;n<e.length;n++)null!=l[n]&&(0==t?c=d=e[n]:h=p=e[n],$.moveTo(c,h),$.lineTo(d,p));$.stroke(),1==te&&$.translate(-f,-f)}function En(e){let l=!0;return ke.forEach(((t,n)=>{if(!t.show)return;let i=Me[t.scale];if(null==i.min)return void(t._show&&(l=!1,t._show=!1,zn(!1)));t._show||(l=!1,t._show=!0,zn(!1));let o=t.side,s=o%2,{min:r,max:u}=i,[a,f]=function(e,l,t,n){let i,o=ke[e];if(n<=0)i=[0,0];else{let s=o._space=o.space(k,e,l,t,n);i=Jt(l,t,o._incrs=o.incrs(k,e,l,t,n,s),n,s)}return o._found=i}(n,r,u,0==s?Cl:Fl);if(0==f)return;let c=2==i.distr,h=t._splits=t.splits(k,n,r,u,a,f,c),d=2==i.distr?h.map((e=>cn[e])):h,p=2==i.distr?cn[h[1]]-cn[h[0]]:a,m=t._values=t.values(k,t.filter(k,d,n,f,p),n,f,p);t._rotate=2==o?t.rotate(k,m,n,f):0;let g=t._size;t._size=ie(t.size(k,m,n,e)),null!=g&&t._size!=g&&(l=!1)})),l}function Tn(e){let l=!0;return Yt.forEach(((t,n)=>{let i=t(k,n,Pt,e);i!=Ct[n]&&(l=!1),Ct[n]=i})),l}function zn(e){de.forEach(((l,t)=>{t>0&&(l._paths=null,e&&(1==M?(l.min=null,l.max=null):l.facets.forEach((e=>{e.min=null,e.max=null}))))}))}let Dn,An,Pn,Wn,Yn,Cn,Fn,Hn,Rn,Gn,In,On,Ln=!1,Nn=!1,jn=[];function Un(){Nn=!1;for(let e=0;e<jn.length;e++)Pi(...jn[e]);jn.length=0}function Bn(){Ln||(je(Vn),Ln=!0)}function Vn(){if(rt&&(!function(){for(let e in Me){let l=Me[e];null==$e[e]&&(null==l.min||null!=$e[De]&&l.auto(k,hn))&&($e[e]=wn)}for(let e in Me){let l=Me[e];null==$e[e]&&null!=l.from&&null!=$e[l.from]&&($e[e]=wn)}null!=$e[De]&&zn(!0);let e={};for(let l in $e){let t=$e[l];if(null!=t){let n=e[l]=Oe(Me[l],Re);if(null!=t.min)Le(n,t);else if(l!=De||2==M)if(0==Ht&&null==n.from){let e=n.range(k,null,null,l);n.min=e[0],n.max=e[1]}else n.min=he,n.max=-he}}if(Ht>0){de.forEach(((l,t)=>{if(1==M){let n=l.scale,i=$e[n];if(null==i)return;let o=e[n];if(0==t){let e=o.range(k,o.min,o.max,n);o.min=e[0],o.max=e[1],Xt=O(o.min,g[0]),Zt=O(o.max,g[0]),Zt-Xt>1&&(g[0][Xt]<o.min&&Xt++,g[0][Zt]>o.max&&Zt--),l.min=cn[Xt],l.max=cn[Zt]}else l.show&&l.auto&&xn(o,i,l,g[t],l.sorted);l.idxs[0]=Xt,l.idxs[1]=Zt}else if(t>0&&l.show&&l.auto){let[n,i]=l.facets,o=n.scale,s=i.scale,[r,u]=g[t],a=e[o],f=e[s];null!=a&&xn(a,$e[o],n,r,n.sorted),null!=f&&xn(f,$e[s],i,u,i.sorted),l.min=i.min,l.max=i.max}}));for(let l in e){let t=e[l],n=$e[l];if(null==t.from&&(null==n||null==n.min)){let e=t.range(k,t.min==he?null:t.min,t.max==-he?null:t.max,l);t.min=e[0],t.max=e[1]}}}for(let l in e){let t=e[l];if(null!=t.from){let n=e[t.from];if(null==n.min)t.min=t.max=null;else{let e=t.range(k,n.min,n.max,l);t.min=e[0],t.max=e[1]}}}let l={},t=!1;for(let n in e){let i=e[n],o=Me[n];if(o.min!=i.min||o.max!=i.max){o.min=i.min,o.max=i.max;let e=o.distr;o._min=3==e?ae(o.min):4==e?ce(o.min,o.asinh):100==e?o.fwd(o.min):o.min,o._max=3==e?ae(o.max):4==e?ce(o.max,o.asinh):100==e?o.fwd(o.max):o.max,l[n]=t=!0}}if(t){de.forEach(((e,t)=>{2==M?t>0&&l.y&&(e._paths=null):l[e.scale]&&(e._paths=null)}));for(let e in l)ct=!0,Pi("setScale",e);bt.show&&bt.left>=0&&(dt=mt=!0)}for(let e in $e)$e[e]=null}(),rt=!1),ct&&(!function(){let e=!1,l=0;for(;!e;){l++;let t=En(l),n=Tn(l);e=l==_t||t&&n,e||(wt(k.width,k.height),ft=!0)}}(),ct=!1),ft){if(T(X,s,Hl),T(X,i,Rl),T(X,t,Cl),T(X,n,Fl),T(Z,s,Hl),T(Z,i,Rl),T(Z,t,Cl),T(Z,n,Fl),T(K,t,Pl),T(K,n,Yl),V.width=ne(Pl*y),V.height=ne(Yl*y),ke.forEach((({_el:l,_show:t,_size:n,_pos:i,side:o})=>{if(null!=l)if(t){let t=o%2==1;T(l,t?"left":"top",i-(3===o||0===o?n:0)),T(l,t?"width":"height",n),T(l,t?"top":"left",t?Rl:Hl),T(l,t?"height":"width",t?Fl:Cl),E(l,e)}else S(l,e)})),en=ln=tn=on=sn=rn=un=an=nn=null,fn=1,gi(!0),Hl!=Gl||Rl!=Bl||Cl!=Vl||Fl!=$l){zn(!1);let e=Cl/Vl,l=Fl/$l;if(bt.show&&!dt&&bt.left>=0){bt.left*=e,bt.top*=l,Pn&&P(Pn,ne(bt.left),0,Cl,Fl),Wn&&P(Wn,0,ne(bt.top),Cl,Fl);for(let t=0;t<Et.length;t++){let n=Et[t];null!=n&&(Tt[t]*=e,zt[t]*=l,P(n,ie(Tt[t]),ie(zt[t]),Cl,Fl))}}if(Zn.show&&!pt&&Zn.left>=0&&Zn.width>0){Zn.left*=e,Zn.width*=e,Zn.top*=l,Zn.height*=l;for(let e in _i)T(Qn,e,Zn[e])}Gl=Hl,Bl=Rl,Vl=Cl,$l=Fl}Pi("setSize"),ft=!1}Pl>0&&Yl>0&&($.clearRect(0,0,V.width,V.height),Pi("drawClear"),Ge.forEach((e=>e())),Pi("draw")),Zn.show&&pt&&(ei(Zn),pt=!1),bt.show&&dt&&(pi(null,!0,!1),dt=!1),ll.show&&ll.live&&mt&&(hi(),mt=!1),R||(R=!0,k.status=1,Pi("ready")),hn=!1,Ln=!1}function $n(e,l){let t=Me[e];if(null==t.from){if(0==Ht){let n=t.range(k,l.min,l.max,e);l.min=n[0],l.max=n[1]}if(l.min>l.max){let e=l.min;l.min=l.max,l.max=e}if(Ht>1&&null!=l.min&&null!=l.max&&l.max-l.min<1e-16)return;e==De&&2==t.distr&&Ht>0&&(l.min=O(l.min,g[0]),l.max=O(l.max,g[0]),l.min==l.max&&l.max++),$e[e]=l,rt=!0,Bn()}}k.batch=function(e,l=!1){Ln=!0,Nn=l,e(k),Vn(),l&&jn.length>0&&queueMicrotask(Un)},k.redraw=(e,l)=>{ct=l||!1,!1!==e?li(De,Ne.min,Ne.max):Bn()},k.setScale=$n;let Jn=!1;const qn=bt.drag;let Kn=qn.x,Xn=qn.y;bt.show&&(bt.x&&(Dn=D("u-cursor-x",Z)),bt.y&&(An=D("u-cursor-y",Z)),0==Ne.ori?(Pn=Dn,Wn=An):(Pn=An,Wn=Dn),In=bt.left,On=bt.top);const Zn=k.select=Le({show:!0,over:!0,left:0,width:0,top:0,height:0},u.select),Qn=Zn.show?D("u-select",Zn.over?Z:X):null;function ei(e,l){if(Zn.show){for(let l in e)Zn[l]=e[l],l in _i&&T(Qn,l,e[l]);!1!==l&&Pi("setSelect")}}function li(e,l,t){$n(e,{min:l,max:t})}function ti(l,t,n,i){null!=t.focus&&function(e){if(e!=oi){let l=null==e,t=1!=yt.alpha;de.forEach(((n,i)=>{if(1==M||i>0){let o=l||0==i||i==e;n._focus=l?null:o,t&&function(e,l){de[e].alpha=l,bt.show&&Et[e]&&(Et[e].style.opacity=l);tl&&fl[e]&&(fl[e].style.opacity=l)}(i,o?1:yt.alpha)}})),oi=e,t&&Bn()}}(l),null!=t.show&&de.forEach(((n,i)=>{i>0&&(l==i||null==l)&&(n.show=t.show,function(l){let t=de[l],n=tl?fl[l]:null;t.show?n&&E(n,e):(n&&S(n,e),P(St?Et[0]:Et[l],-10,-10,Cl,Fl))}(i,t.show),2==M?(li(n.facets[0].scale,null,null),li(n.facets[1].scale,null,null)):li(n.scale,null,null),Bn())})),!1!==n&&Pi("setSeries",l,t),i&&Hi("setSeries",k,l,t)}let ni,ii,oi;k.setSelect=ei,k.setSeries=ti,k.addBand=function(e,l){e.fill=me(e.fill||null),e.dir=q(e.dir,-1),l=null==l?Se.length:l,Se.splice(l,0,e)},k.setBand=function(e,l){Le(Se[e],l)},k.delBand=function(e){null==e?Se.length=0:Se.splice(e,1)};const si={focus:!0};function ri(e,l,t){let n=Me[l];t&&(e=e/y-(1==n.ori?Rl:Hl));let i=Cl;1==n.ori&&(i=Fl,e=i-e),-1==n.dir&&(e=i-e);let o=n._min,s=o+(n._max-o)*(e/i),r=n.distr;return 3==r?re(10,s):4==r?((e,l=1)=>Q.sinh(e)*l)(s,n.asinh):100==r?n.bwd(s):s}function ui(e,l){T(Qn,s,Zn.left=e),T(Qn,t,Zn.width=l)}function ai(e,l){T(Qn,i,Zn.top=e),T(Qn,n,Zn.height=l)}tl&&Mt&&Dl(p,sl,(e=>{bt._lock||(vt(e),null!=oi&&ti(null,si,!0,Yi.setSeries))})),k.valToIdx=e=>O(e,g[0]),k.posToIdx=function(e,l){return O(ri(e,De,l),g[0],Xt,Zt)},k.posToVal=ri,k.valToPos=(e,l,t)=>0==Me[l].ori?W(e,Me[l],t?et:Cl,t?Jl:0):C(e,Me[l],t?lt:Fl,t?ql:0),k.setCursor=(e,l,t)=>{In=e.left,On=e.top,pi(null,l,t)};let fi=0==Ne.ori?ui:ai,ci=1==Ne.ori?ui:ai;function hi(e,l){if(null!=e&&(e.idxs?e.idxs.forEach(((e,l)=>{el[l]=e})):void 0!==e.idx&&el.fill(e.idx),ll.idx=el[0]),tl&&ll.live){for(let e=0;e<de.length;e++)(e>0||1==M&&!hl)&&di(e,el[e]);!function(){if(tl&&ll.live)for(let e=2==M?1:0;e<de.length;e++){if(0==e&&hl)continue;let l=ll.values[e],t=0;for(let n in l)cl[e][t++].firstChild.nodeValue=l[n]}}()}mt=!1,!1!==l&&Pi("setLegend")}function di(e,l){let t,n=de[e],i=0==e&&2==Ue?cn:g[e];hl?t=n.values(k,e,l)??dl:(t=n.value(k,null==l?null:i[l],e,l),t=null==t?dl:{_:t}),ll.values[e]=t}function pi(e,l,t){let n;Rn=In,Gn=On,[In,On]=bt.move(k,In,On),bt.left=In,bt.top=On,bt.show&&(Pn&&P(Pn,ne(In),0,Cl,Fl),Wn&&P(Wn,0,ne(On),Cl,Fl));let i=Xt>Zt;ni=he,ii=null;let o=0==Ne.ori?Cl:Fl,s=1==Ne.ori?Cl:Fl;if(In<0||0==Ht||i){n=bt.idx=null;for(let e=0;e<de.length;e++){let l=Et[e];null!=l&&P(l,-10,-10,Cl,Fl)}Mt&&ti(null,si,!0,null==e&&Yi.setSeries),ll.live&&(el.fill(n),mt=!0)}else{let e,l,t;1==M&&(e=0==Ne.ori?In:On,l=ri(e,De),n=bt.idx=O(l,g[0],Xt,Zt),t=Be(g[0][n],Ne,o,0));let i=-10,r=-10,u=0,a=0,f=!0,c="",h="";for(let e=2==M?1:0;e<de.length;e++){let d=de[e],p=el[e],m=null==p?null:1==M?g[e][p]:g[e][1][p],x=bt.dataIdx(k,e,n,l),w=null==x?null:1==M?g[e][x]:g[e][1][x];mt=mt||w!=m||x!=p,el[e]=x;let _=x==n?t:Be(1==M?g[0][x]:g[e][0][x],Ne,o,0);if(e>0&&d.show){let l=null==w?-10:Ve(w,1==M?Me[d.scale]:Me[d.facets[1].scale],s,0);if(Mt&&null!=w){let t=1==Ne.ori?In:On,n=le(yt.dist(k,e,x,l,t));if(n<ni){let l=yt.bias;if(0!=l){let i=ri(t,d.scale),o=i>=0?1:-1;o==(w>=0?1:-1)&&(1==o?1==l?w>=i:w<=i:1==l?w<=i:w>=i)&&(ni=n,ii=e)}else ni=n,ii=e}}if(mt||St){let t,n;0==Ne.ori?(t=_,n=l):(t=l,n=_);let o,s,d,p,m,g,x=!0,w=kt.bbox;if(null!=w){x=!1;let l=w(k,e);d=l.left,p=l.top,o=l.width,s=l.height}else d=t,p=n,o=s=kt.size(k,e);if(g=kt.fill(k,e),m=kt.stroke(k,e),St)e==ii&&ni<=yt.prox&&(i=d,r=p,u=o,a=s,f=x,c=g,h=m);else{let l=Et[e];null!=l&&(Tt[e]=d,zt[e]=p,F(l,o,s,x),Y(l,g,m),P(l,ie(d),ie(p),Cl,Fl))}}}}if(St){let e=yt.prox;if(mt||(null==oi?ni<=e:ni>e||ii!=oi)){let e=Et[0];Tt[0]=i,zt[0]=r,F(e,u,a,f),Y(e,c,h),P(e,ie(i),ie(r),Cl,Fl)}}}if(Zn.show&&Jn)if(null!=e){let[l,t]=Yi.scales,[n,i]=Yi.match,[r,u]=e.cursor.sync.scales,a=e.cursor.drag;if(Kn=a._x,Xn=a._y,Kn||Xn){let a,f,c,h,d,{left:p,top:m,width:g,height:x}=e.select,w=e.scales[r].ori,_=e.posToVal,b=null!=l&&n(l,r),v=null!=t&&i(t,u);b&&Kn?(0==w?(a=p,f=g):(a=m,f=x),c=Me[l],h=Be(_(a,r),c,o,0),d=Be(_(a+f,r),c,o,0),fi(oe(h,d),le(d-h))):fi(0,o),v&&Xn?(1==w?(a=p,f=g):(a=m,f=x),c=Me[t],h=Ve(_(a,u),c,s,0),d=Ve(_(a+f,u),c,s,0),ci(oe(h,d),le(d-h))):ci(0,s)}else bi()}else{let e=le(Rn-Yn),l=le(Gn-Cn);if(1==Ne.ori){let t=e;e=l,l=t}Kn=qn.x&&e>=qn.dist,Xn=qn.y&&l>=qn.dist;let t,n,i=qn.uni;null!=i?Kn&&Xn&&(Kn=e>=i,Xn=l>=i,Kn||Xn||(l>e?Xn=!0:Kn=!0)):qn.x&&qn.y&&(Kn||Xn)&&(Kn=Xn=!0),Kn&&(0==Ne.ori?(t=Fn,n=In):(t=Hn,n=On),fi(oe(t,n),le(n-t)),Xn||ci(0,s)),Xn&&(1==Ne.ori?(t=Fn,n=In):(t=Hn,n=On),ci(oe(t,n),le(n-t)),Kn||fi(0,o)),Kn||Xn||(fi(0,0),ci(0,0))}if(qn._x=Kn,qn._y=Xn,null==e){if(t){if(null!=Ci){let[e,l]=Yi.scales;Yi.values[0]=null!=e?ri(0==Ne.ori?In:On,e):null,Yi.values[1]=null!=l?ri(1==Ne.ori?In:On,l):null}Hi(f,k,In,On,Cl,Fl,n)}if(Mt){let e=t&&Yi.setSeries,l=yt.prox;null==oi?ni<=l&&ti(ii,si,!0,e):ni>l?ti(null,si,!0,e):ii!=oi&&ti(ii,si,!0,e)}}mt&&(ll.idx=n,hi()),!1!==l&&Pi("setCursor")}k.setLegend=hi;let mi=null;function gi(e=!1){e?mi=null:(mi=Z.getBoundingClientRect(),Pi("syncRect",mi))}function xi(e,l,t,n,i,o,s){bt._lock||Jn&&null!=e&&0==e.movementX&&0==e.movementY||(wi(e,l,t,n,i,o,s,!1,null!=e),null!=e?pi(null,!0,!0):pi(l,!0,!1))}function wi(e,l,t,n,i,o,s,r,u){if(null==mi&&gi(!1),vt(e),null!=e)t=e.clientX-mi.left,n=e.clientY-mi.top;else{if(t<0||n<0)return In=-10,void(On=-10);let[e,s]=Yi.scales,r=l.cursor.sync,[u,a]=r.values,[f,c]=r.scales,[h,d]=Yi.match,p=l.axes[0].side%2==1,m=0==Ne.ori?Cl:Fl,g=1==Ne.ori?Cl:Fl,x=p?o:i,w=p?i:o,_=p?n:t,b=p?t:n;if(t=null!=f?h(e,f)?H(u,Me[e],m,0):-10:m*(_/x),n=null!=c?d(s,c)?H(a,Me[s],g,0):-10:g*(b/w),1==Ne.ori){let e=t;t=n,n=e}}u&&((t<=1||t>=Cl-1)&&(t=ye(t,Cl)),(n<=1||n>=Fl-1)&&(n=ye(n,Fl))),r?(Yn=t,Cn=n,[Fn,Hn]=bt.move(k,t,n)):(In=t,On=n)}Object.defineProperty(k,"rect",{get:()=>(null==mi&&gi(!1),mi)});const _i={width:0,height:0,left:0,top:0};function bi(){ei(_i,!1)}let vi,ki,yi,Mi;function Si(e,l,t,n,i,o,s){Jn=!0,Kn=Xn=qn._x=qn._y=!1,wi(e,l,t,n,i,o,0,!0,!1),null!=e&&(Dl(h,b,Ei,!1),Hi(c,k,Fn,Hn,Cl,Fl,null));let{left:r,top:u,width:a,height:f}=Zn;vi=r,ki=u,yi=a,Mi=f,bi()}function Ei(e,l,t,n,i,o,s){Jn=qn._x=qn._y=!1,wi(e,l,t,n,i,o,0,!1,!0);let{left:r,top:u,width:a,height:f}=Zn,c=a>0||f>0,d=vi!=r||ki!=u||yi!=a||Mi!=f;if(c&&d&&ei(Zn),qn.setScale&&c&&d){let e=r,l=a,t=u,n=f;if(1==Ne.ori&&(e=u,l=f,t=r,n=a),Kn&&li(De,ri(e,De),ri(e+l,De)),Xn)for(let e in Me){let l=Me[e];e!=De&&null==l.from&&l.min!=he&&li(e,ri(t+n,e),ri(t,e))}bi()}else bt.lock&&(bt._lock=!bt._lock,pi(null,!0,!1));null!=e&&(Al(h,b),Hi(h,k,In,On,Cl,Fl,null))}function Ti(e,l,t,n,i,o,s){bt._lock||(vt(e),pn(),bi(),null!=e&&Hi(m,k,In,On,Cl,Fl,null))}function zi(){ke.forEach(Kt),xt(k.width,k.height,!0)}G(x,v,zi);const Di={};Di.mousedown=Si,Di.mousemove=xi,Di.mouseup=Ei,Di.dblclick=Ti,Di.setSeries=(e,l,t,n)=>{-1!=(t=(0,Yi.match[2])(k,l,t))&&ti(t,n,!0,!1)},bt.show&&(Dl(c,Z,Si),Dl(f,Z,xi),Dl(d,Z,(e=>{vt(e),gi(!1)})),Dl(p,Z,(function(e,l,t,n,i,o,s){if(bt._lock)return;vt(e);let r=Jn;if(Jn){let e,l,t=!0,n=!0,i=10;0==Ne.ori?(e=Kn,l=Xn):(e=Xn,l=Kn),e&&l&&(t=In<=i||In>=Cl-i,n=On<=i||On>=Fl-i),e&&t&&(In=In<Fn?0:Cl),l&&n&&(On=On<Hn?0:Fl),pi(null,!0,!0),Jn=!1}In=-10,On=-10,pi(null,!0,!0),r&&(Jn=r)})),Dl(m,Z,Ti),Ft.add(k),k.syncRect=gi);const Ai=k.hooks=u.hooks||{};function Pi(e,l,t){Nn?jn.push([e,l,t]):e in Ai&&Ai[e].forEach((e=>{e.call(null,k,l,t)}))}(u.plugins||[]).forEach((e=>{for(let l in e.hooks)Ai[l]=(Ai[l]||[]).concat(e.hooks[l])}));const Wi=(e,l,t)=>t,Yi=Le({key:null,setSeries:!1,filters:{pub:_e,sub:_e},scales:[De,de[1]?de[1].scale:null],match:[be,be,Wi],values:[null,null]},bt.sync);2==Yi.match.length&&Yi.match.push(Wi),bt.sync=Yi;const Ci=Yi.key,Fi=ut(Ci);function Hi(e,l,t,n,i,o,s){Yi.filters.pub(e,l,t,n,i,o,s)&&Fi.pub(e,l,t,n,i,o,s)}function Ri(){Pi("init",u,g),dn(g||u.data,!1),$e[De]?$n(De,$e[De]):pn(),pt=Zn.show&&(Zn.width>0||Zn.height>0),dt=mt=!0,xt(u.width,u.height)}return Fi.sub(k),k.pub=function(e,l,t,n,i,o,s){Yi.filters.sub(e,l,t,n,i,o,s)&&Di[e](null,l,t,n,i,o,s)},k.destroy=function(){Fi.unsub(k),Ft.delete(k),Sl.clear(),I(x,v,zi),L.remove(),sl?.remove(),Pi("destroy")},de.forEach(At),ke.forEach((function(e,l){if(e._show=e.show,e.show){let t=e.side%2,n=Me[e.scale];null==n&&(e.scale=t?de[1].scale:De,n=Me[e.scale]);let i=n.time;e.size=me(e.size),e.space=me(e.space),e.rotate=me(e.rotate),Ye(e.incrs)&&e.incrs.forEach((e=>{!Te.has(e)&&Te.set(e,ze(e))})),e.incrs=me(e.incrs||(2==n.distr?il:i?1==fe?xl:bl:ol)),e.splits=me(e.splits||(i&&1==n.distr?Ke:3==n.distr?jl:4==n.distr?Ul:Nl)),e.stroke=me(e.stroke),e.grid.stroke=me(e.grid.stroke),e.ticks.stroke=me(e.ticks.stroke),e.border.stroke=me(e.border.stroke);let o=e.values;e.values=Ye(o)&&!Ye(o[0])?me(o):i?Ye(o)?Ml(Je,yl(o,qe)):Fe(o)?function(e,l){let t=Ze(l);return(l,n,i,o,s)=>n.map((l=>t(e(l))))}(Je,o):o||Xe:o||Ll,e.filter=me(e.filter||(n.distr>=3&&10==n.log?Kl:3==n.distr&&2==n.log?Xl:xe)),e.font=qt(e.font),e.labelFont=qt(e.labelFont),e._size=e.size(k,null,l,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(Pt[l]=!0,e._el=D("u-axis",K))}})),_?_ instanceof HTMLElement?(_.appendChild(L),Ri()):_(k,Ri):Ri(),k}Xt.assign=Le,Xt.fmtNum=Z,Xt.rangeNum=J,Xt.rangeLog=N,Xt.rangeAsinh=j,Xt.orient=ft,Xt.pxRatio=y,Xt.join=function(e,l){if(function(e){let l=e[0][0],t=l.length;for(let n=1;n<e.length;n++){let i=e[n][0];if(i.length!=t)return!1;if(i!=l)for(let e=0;e<t;e++)if(i[e]!=l[e])return!1}return!0}(e)){let l=e[0].slice();for(let t=1;t<e.length;t++)l.push(...e[t].slice(1));return function(e,l=100){const t=e.length;if(t<=1)return!0;let n=0,i=t-1;for(;n<=i&&null==e[n];)n++;for(;i>=n&&null==e[i];)i--;if(i<=n)return!0;const o=se(1,te((i-n+1)/l));for(let l=e[n],t=n+o;t<=i;t+=o){const n=e[t];if(null!=n){if(n<=l)return!1;l=n}}return!0}(l[0])||(l=function(e){let l=e[0],t=l.length,n=Array(t);for(let e=0;e<n.length;e++)n[e]=e;n.sort(((e,t)=>l[e]-l[t]));let i=[];for(let l=0;l<e.length;l++){let o=e[l],s=Array(t);for(let e=0;e<t;e++)s[e]=o[n[e]];i.push(s)}return i}(l)),l}let t=new Set;for(let l=0;l<e.length;l++){let n=e[l][0],i=n.length;for(let e=0;e<i;e++)t.add(n[e])}let n=[Array.from(t).sort(((e,l)=>e-l))],i=n[0].length,o=new Map;for(let e=0;e<i;e++)o.set(n[0][e],e);for(let t=0;t<e.length;t++){let s=e[t],r=s[0];for(let e=1;e<s.length;e++){let u=s[e],a=Array(i).fill(void 0),f=l?l[t][e]:1,c=[];for(let e=0;e<u.length;e++){let l=u[e],t=o.get(r[e]);null===l?0!=f&&(a[t]=l,2==f&&c.push(t)):a[t]=l}Ne(a,c,i),n.push(a)}}return n},Xt.fmtDate=Ze,Xt.tzDate=function(e,l){let t;return"UTC"==l||"Etc/UTC"==l?t=new Date(+e+6e4*e.getTimezoneOffset()):l==Qe?t=e:(t=new Date(e.toLocaleString("en-US",{timeZone:l})),t.setMilliseconds(e.getMilliseconds())),t},Xt.sync=ut;{Xt.addGap=function(e,l,t){let n=e[e.length-1];n&&n[0]==l?n[1]=t:e.push([l,t])},Xt.clipGaps=pt;let e=Xt.paths={points:zt};e.linear=Wt,e.stepped=function(e){const l=q(e.align,1),t=q(e.ascDesc,!1),n=q(e.alignGaps,0),i=q(e.extend,!1);return(e,o,s,r)=>ft(e,o,((u,a,f,c,h,d,p,m,g,x,w)=>{let _=u.pxRound,{left:b,width:v}=e.bbox,k=e=>_(d(e,c,x,m)),M=e=>_(p(e,h,w,g)),S=0==c.ori?bt:vt;const E={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:at},T=E.stroke,z=c.dir*(0==c.ori?1:-1);s=L(f,s,r,1),r=L(f,s,r,-1);let D=M(f[1==z?s:r]),A=k(a[1==z?s:r]),P=A,W=A;i&&-1==l&&(W=b,S(T,W,D)),S(T,A,D);for(let e=1==z?s:r;e>=s&&e<=r;e+=z){let t=f[e];if(null==t)continue;let n=k(a[e]),i=M(t);1==l?S(T,n,D):S(T,P,i),S(T,n,i),D=i,P=n}let Y=P;i&&1==l&&(Y=b+v,S(T,Y,D));let[C,F]=ct(e,o);if(null!=u.fill||0!=C){let l=E.fill=new Path2D(T),t=M(u.fillTo(e,o,u.min,u.max,C));S(l,Y,t),S(l,W,t)}if(!u.spanGaps){let i=[];i.push(...mt(a,f,s,r,z,k,n));let h=u.width*y/2,d=t||1==l?h:-h,p=t||-1==l?-h:h;i.forEach((e=>{e[0]+=d,e[1]+=p})),E.gaps=i=u.gaps(e,o,s,r,i),E.clip=pt(i,c.ori,m,g,x,w)}return 0!=F&&(E.band=2==F?[dt(e,o,s,r,T,-1),dt(e,o,s,r,T,1)]:dt(e,o,s,r,T,F)),E}))},e.bars=function(e){const l=q((e=e||Ae).size,[.6,he,1]),t=e.align||0,n=e.gap||0;let i=e.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const o=me(i),s=1-l[0],r=q(l[1],he),u=q(l[2],1),a=q(e.disp,Ae),f=q(e.each,(e=>{})),{fill:c,stroke:h}=a;return(e,l,i,d)=>ft(e,l,((p,m,g,x,w,_,b,v,k,M,S)=>{let E,T,z=p.pxRound,D=t,A=n*y,P=r*y,W=u*y;0==x.ori?[E,T]=o(e,l):[T,E]=o(e,l);const Y=x.dir*(0==x.ori?1:-1);let C,F,H,R=0==x.ori?kt:yt,G=0==x.ori?f:(e,l,t,n,i,o,s)=>{f(e,l,t,i,n,s,o)},I=q(e.bands,Pe).find((e=>e.series[0]==l)),O=null!=I?I.dir:0,L=p.fillTo(e,l,p.min,p.max,O),N=z(b(L,w,S,k)),j=M,U=z(p.width*y),B=!1,V=null,$=null,J=null,K=null;null==c||0!=U&&null==h||(B=!0,V=c.values(e,l,i,d),$=new Map,new Set(V).forEach((e=>{null!=e&&$.set(e,new Path2D)})),U>0&&(J=h.values(e,l,i,d),K=new Map,new Set(J).forEach((e=>{null!=e&&K.set(e,new Path2D)}))));let{x0:X,size:Z}=a;if(null!=X&&null!=Z){D=1,m=X.values(e,l,i,d),2==X.unit&&(m=m.map((l=>e.posToVal(v+l*M,x.key,!0))));let t=Z.values(e,l,i,d);F=2==Z.unit?t[0]*M:_(t[0],x,M,v)-_(0,x,M,v),j=Yt(m,g,_,x,M,v,j),H=j-F+A}else j=Yt(m,g,_,x,M,v,j),H=j*s+A,F=j-H;H<1&&(H=0),U>=F/2&&(U=0),H<5&&(z=ge);let Q=H>0;F=z(pe(j-H-(Q?U:0),W,P)),C=(0==D?F/2:D==Y?0:F)-D*Y*((0==D?A/2:0)+(Q?U/2:0));const ee={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},le=B?null:new Path2D;let ne=null;if(null!=I)ne=e.data[I.series[1]];else{let{y0:t,y1:n}=a;null!=t&&null!=n&&(g=n.values(e,l,i,d),ne=t.values(e,l,i,d))}let ie=E*F,re=T*F;for(let t=1==Y?i:d;t>=i&&t<=d;t+=Y){let n=g[t];if(null==n)continue;if(null!=ne){let e=ne[t]??0;if(n-e==0)continue;N=b(e,w,S,k)}let i=_(2!=x.distr||null!=a?m[t]:t,x,M,v),o=b(q(n,L),w,S,k),s=z(i-C),r=z(se(o,N)),u=z(oe(o,N)),f=r-u;if(null!=n){let i=n<0?re:ie,o=n<0?ie:re;B?(U>0&&null!=J[t]&&R(K.get(J[t]),s,u+te(U/2),F,se(0,f-U),i,o),null!=V[t]&&R($.get(V[t]),s,u+te(U/2),F,se(0,f-U),i,o)):R(le,s,u+te(U/2),F,se(0,f-U),i,o),G(e,l,t,s-U/2,u,F+U,f)}}return U>0?ee.stroke=B?K:le:B||(ee._fill=0==p.width?p._fill:p._stroke??p._fill,ee.width=0),ee.fill=B?$:le,ee}))},e.spline=function(e){return function(e,l){const t=q(l?.alignGaps,0);return(l,n,i,o)=>ft(l,n,((s,r,u,a,f,c,h,d,p,m,g)=>{let x,w,_,b=s.pxRound,v=e=>b(c(e,a,m,d)),k=e=>b(h(e,f,g,p));0==a.ori?(x=wt,_=bt,w=Et):(x=_t,_=vt,w=Tt);const y=a.dir*(0==a.ori?1:-1);i=L(u,i,o,1),o=L(u,i,o,-1);let M=v(r[1==y?i:o]),S=M,E=[],T=[];for(let e=1==y?i:o;e>=i&&e<=o;e+=y)if(null!=u[e]){let l=v(r[e]);E.push(S=l),T.push(k(u[e]))}const z={stroke:e(E,T,x,_,w,b),fill:null,clip:null,band:null,gaps:null,flags:at},D=z.stroke;let[A,P]=ct(l,n);if(null!=s.fill||0!=A){let e=z.fill=new Path2D(D),t=k(s.fillTo(l,n,s.min,s.max,A));_(e,S,t),_(e,M,t)}if(!s.spanGaps){let e=[];e.push(...mt(r,u,i,o,y,v,t)),z.gaps=e=s.gaps(l,n,i,o,e),z.clip=pt(e,a.ori,d,p,m,g)}return 0!=P&&(z.band=2==P?[dt(l,n,i,o,D,-1),dt(l,n,i,o,D,1)]:dt(l,n,i,o,D,P)),z}))}(Ct,e)}}export{Xt as default};
