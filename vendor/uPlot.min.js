const e="u-off",t="undefined"!=typeof window,l=t?document:null,n=t?window:null,i=t?navigator:null;let o,s;function r(e,t){if(null!=t){let l=e.classList;!l.contains(t)&&l.add(t)}}function u(e,t){let l=e.classList;l.contains(t)&&l.remove(t)}function a(e,t,l){e.style[t]=l+"px"}function f(e,t,n,i){let o=l.createElement(e);return null!=t&&r(o,t),null!=n&&n.insertBefore(o,i),o}function c(e,t){return f("div",e,t)}const h=new WeakMap;function d(t,l,n,i,o){let s="translate("+l+"px,"+n+"px)";s!=h.get(t)&&(t.style.transform=s,h.set(t,s),l<0||n<0||l>i||n>o?r(t,e):u(t,e))}const p=new WeakMap;function m(e,t,l){let n=t+l;n!=p.get(e)&&(p.set(e,n),e.style.background=t,e.style.borderColor=l)}const g=new WeakMap;function x(e,t,l,n){let i=t+""+l;i!=g.get(e)&&(g.set(e,i),e.style.height=l+"px",e.style.width=t+"px",e.style.marginLeft=n?-t/2+"px":0,e.style.marginTop=n?-l/2+"px":0)}const w={passive:!0},b={...w,capture:!0};function v(e,t,l,n){t.addEventListener(e,l,n?b:w)}function _(e,t,l,n){t.removeEventListener(e,l,n?b:w)}function k(e,t,l,n){let i;l=l||0;let o=(n=n||t.length-1)<=2147483647;for(;n-l>1;)i=o?l+n>>1:R((l+n)/2),t[i]<e?l=i:n=i;return e-t[l]<=t[n]-e?l:n}function y(e,t,l,n){for(let i=1==n?t:l;i>=t&&i<=l;i+=n)if(null!=e[i])return i;return-1}function M(e,t,l,n){let i=j(e),o=j(t),s=10==l?U:B;e==t&&(-1==i?(e*=l,t/=l):(e/=l,t*=l));let r=1==o?I:R,u=(1==i?R:I)(s(H(e))),a=r(s(H(t))),f=N(l,u),c=N(l,a);return 10==l&&(u<0&&(f=se(f,-u)),a<0&&(c=se(c,-a))),n||2==l?(e=f*i,t=c*o):(e=oe(e,f),t=ie(t,c)),[e,t]}function S(e,t,l,n){let i=M(e,t,l,n);return 0==e&&(i[0]=0),0==t&&(i[1]=0),i}t&&function e(){let t=devicePixelRatio;o!=t&&(o=t,s&&_("change",s,e),s=matchMedia(`(min-resolution: ${o-.001}dppx) and (max-resolution: ${o+.001}dppx)`),v("change",s,e),n.dispatchEvent(new CustomEvent("dppxchange")))}();const E={mode:3,pad:.1},z={pad:0,soft:null,mode:0},D={min:z,max:z};function T(e,t,l,n){return ge(l)?A(e,t,l):(z.pad=l,z.soft=n?0:null,z.mode=n?3:0,A(e,t,D))}function P(e,t){return null==e?t:e}function A(e,t,l){let n=l.min,i=l.max,o=P(n.pad,0),s=P(i.pad,0),r=P(n.hard,-J),u=P(i.hard,J),a=P(n.soft,J),f=P(i.soft,-J),c=P(n.mode,0),h=P(i.mode,0),d=t-e,p=U(d),m=O(H(e),H(t)),g=U(m),x=H(g-p);(d<1e-9||x>10)&&(d=0,0!=e&&0!=t||(d=1e-9,2==c&&a!=J&&(o=0),2==h&&f!=-J&&(s=0)));let w=d||m||1e3,b=U(w),v=N(10,R(b)),_=se(oe(e-w*(0==d?0==e?.1:1:o),v/10),9),k=e>=a&&(1==c||3==c&&_<=a||2==c&&_>=a)?a:J,y=O(r,_<k&&e>=k?k:L(k,_)),M=se(ie(t+w*(0==d?0==t?.1:1:s),v/10),9),S=t<=f&&(1==h||3==h&&M>=f||2==h&&M<=f)?f:-J,E=L(u,M>S&&t<=S?S:O(S,M));return y==E&&0==y&&(E=100),[y,E]}const Y=new Intl.NumberFormat(t?i.language:"en-US"),W=e=>Y.format(e),C=Math,F=C.PI,H=C.abs,R=C.floor,G=C.round,I=C.ceil,L=C.min,O=C.max,N=C.pow,j=C.sign,U=C.log10,B=C.log2,V=(e,t=1)=>C.asinh(e/t),J=1/0;function q(e){return 1+(0|U((e^e>>31)-(e>>31)))}function K(e,t,l){return L(O(e,t),l)}function X(e){return"function"==typeof e?e:()=>e}const Z=e=>e,$=(e,t)=>t,Q=e=>null,ee=e=>!0,te=(e,t)=>e==t,le=e=>se(e,14);function ne(e,t){return le(se(le(e/t))*t)}function ie(e,t){return le(I(le(e/t))*t)}function oe(e,t){return le(R(le(e/t))*t)}function se(e,t=0){if(pe(e))return e;let l=10**t,n=e*l*(1+Number.EPSILON);return G(n)/l}const re=new Map;function ue(e){return((""+e).split(".")[1]||"").length}function ae(e,t,l,n){let i=[],o=n.map(ue);for(let s=t;s<l;s++){let t=H(s),l=se(N(e,s),t);for(let e=0;e<n.length;e++){let r=n[e]*l,u=(r>=0&&s>=0?0:t)+(s>=o[e]?0:o[e]),a=se(r,u);i.push(a),re.set(a,u)}}return i}const fe={},ce=[],he=[null,null],de=Array.isArray,pe=Number.isInteger;function me(e){return"string"==typeof e}function ge(e){let t=!1;if(null!=e){let l=e.constructor;t=null==l||l==Object}return t}function xe(e){return null!=e&&"object"==typeof e}const we=Object.getPrototypeOf(Uint8Array);function be(e,t=ge){let l;if(de(e)){let n=e.find((e=>null!=e));if(de(n)||t(n)){l=Array(e.length);for(let n=0;n<e.length;n++)l[n]=be(e[n],t)}else l=e.slice()}else if(e instanceof we)l=e.slice();else if(t(e)){l={};for(let n in e)l[n]=be(e[n],t)}else l=e;return l}function ve(e){let t=arguments;for(let l=1;l<t.length;l++){let n=t[l];for(let t in n)ge(e[t])?ve(e[t],be(n[t])):e[t]=be(n[t])}return e}function _e(e,t,l){for(let n,i=0,o=-1;i<t.length;i++){let s=t[i];if(s>o){for(n=s-1;n>=0&&null==e[n];)e[n--]=null;for(n=s+1;n<l&&null==e[n];)e[o=n++]=null}}}const ke="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask;const ye=["January","February","March","April","May","June","July","August","September","October","November","December"],Me=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Se(e){return e.slice(0,3)}const Ee=Me.map(Se),ze=ye.map(Se),De={MMMM:ye,MMM:ze,WWWW:Me,WWW:Ee};function Te(e){return(e<10?"0":"")+e}const Pe={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>Te(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Te(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>Te(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return 0==t?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Te(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Te(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>{return((t=e.getMilliseconds())<10?"00":t<100?"0":"")+t;var t}};function Ae(e,t){t=t||De;let l,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;l=i.exec(e);)n.push("{"==l[0][0]?Pe[l[1]]:l[0]);return e=>{let l="";for(let i=0;i<n.length;i++)l+="string"==typeof n[i]?n[i]:n[i](e,t);return l}}const Ye=(new Intl.DateTimeFormat).resolvedOptions().timeZone;const We=e=>e%1==0,Ce=[1,2,2.5,5],Fe=ae(10,-16,0,Ce),He=ae(10,0,16,Ce),Re=He.filter(We),Ge=Fe.concat(He),Ie="{M}/{D}",Le="\n"+Ie,Oe=Le+"/{YY}",Ne="{h}:{mm}{aa}",je=null;function Ue(e){let t=1e3*e,l=60*t,n=60*l,i=24*n,o=30*i,s=365*i;return[(1==e?ae(10,0,3,Ce).filter(We):ae(10,-3,0,Ce)).concat([t,5*t,10*t,15*t,30*t,l,5*l,10*l,15*l,30*l,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,"{YYYY}",je,je,je,je,je,je,1],[28*i,"{MMM}","\n{YYYY}",je,je,je,je,je,1],[i,Ie,"\n{YYYY}",je,je,je,je,je,1],[n,"{h}{aa}",Oe,je,Le,je,je,je,1],[l,Ne,Oe,je,Le,je,je,je,1],[t,":{ss}",Oe+" "+Ne,je,Le+" "+Ne,je,"\n{h}:{mm}{aa}",je,1],[e,":{ss}.{fff}",Oe+" "+Ne,je,Le+" "+Ne,je,"\n{h}:{mm}{aa}",je,1]],function(t){return(r,u,a,f,c,h)=>{let d=[],p=c>=s,m=c>=o&&c<s,g=t(a),x=se(g*e,3),w=Qe(g.getFullYear(),p?0:g.getMonth(),m||p?1:g.getDate()),b=se(w*e,3);if(m||p){let l=m?c/o:0,n=p?c/s:0,i=x==b?x:se(Qe(w.getFullYear()+n,w.getMonth()+l,1)*e,3),r=new Date(G(i/e)),u=r.getFullYear(),a=r.getMonth();for(let o=0;i<=f;o++){let s=Qe(u+n*o,a+l*o,1),r=s-t(se(s*e,3));i=se((+s+r)*e,3),i<=f&&d.push(i)}}else{let o=c>=i?i:c,s=b+(R(a)-R(x))+ie(x-b,o);d.push(s);let p=t(s),m=p.getHours()+p.getMinutes()/l+p.getSeconds()/n,g=c/n,w=h/r.axes[u]._space;for(;s=se(s+c,1==e?0:3),!(s>f);)if(g>1){let e=R(se(m+g,6))%24,l=t(s).getHours()-e;l>1&&(l=-1),s-=l*n,m=(m+g)%24,se((s-d[d.length-1])/c,3)*w>=.7&&d.push(s)}else d.push(s)}return d}}]}const[Be,Ve,Je]=Ue(1),[qe,Ke,Xe]=Ue(.001);function Ze(e,t){return e.map((e=>e.map(((l,n)=>0==n||8==n||null==l?l:t(1==n||0==e[8]?l:e[1]+l)))))}function $e(e,t){return(l,n,i,o,s)=>{let r,u,a,f,c,h,d=t.find((e=>s>=e[0]))||t[t.length-1];return n.map((t=>{let l=e(t),n=l.getFullYear(),i=l.getMonth(),o=l.getDate(),s=l.getHours(),p=l.getMinutes(),m=l.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=f&&d[5]||p!=c&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,f=s,c=p,h=m,g(l)}))}}function Qe(e,t,l){return new Date(e,t,l)}function et(e,t){return t(e)}ae(2,-53,53,[1]);function tt(e,t){return(l,n,i,o)=>null==o?"--":t(e(n))}const lt={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(e,t){let l=e.series[t];return l.width?l.stroke(e,t):l.points.width?l.points.stroke(e,t):null},fill:function(e,t){return e.series[t].fill(e,t)},dash:"solid"},idx:null,idxs:null,values:[]};const nt=[0,0];function it(e,t,l,n=!0){return e=>{0==e.button&&(!n||e.target==t)&&l(e)}}function ot(e,t,l,n=!0){return e=>{(!n||e.target==t)&&l(e)}}const st={show:!0,x:!0,y:!0,lock:!1,move:function(e,t,l){return nt[0]=t,nt[1]=l,nt},points:{show:function(e,t){let l=e.cursor.points,n=c(),i=l.size(e,t);a(n,"width",i),a(n,"height",i);let o=i/-2;a(n,"marginLeft",o),a(n,"marginTop",o);let s=l.width(e,t,i);return s&&a(n,"borderWidth",s),n},size:function(e,t){return e.series[t].points.size},width:0,stroke:function(e,t){let l=e.series[t].points;return l._stroke||l._fill},fill:function(e,t){let l=e.series[t].points;return l._fill||l._stroke}},bind:{mousedown:it,mouseup:it,click:it,dblclick:it,mousemove:ot,mouseleave:ot,mouseenter:ot},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{prox:-1,bias:0},left:-10,top:-10,idx:null,dataIdx:function(e,t,l){return l},idxs:null,event:null},rt={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ut=ve({},rt,{filter:$}),at=ve({},ut,{size:10}),ft=ve({},rt,{show:!1}),ct='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',ht="bold "+ct,dt={show:!0,scale:"x",stroke:"#000",space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ht,side:2,grid:ut,ticks:at,border:ft,font:ct,lineGap:1.5,rotate:0},pt={show:!0,scale:"x",auto:!1,sorted:1,min:J,max:-J,idxs:[]};function mt(e,t,l,n,i){return t.map((e=>null==e?"":W(e)))}function gt(e,t,l,n,i,o,s){let r=[],u=re.get(i)||0;for(let e=l=s?l:se(ie(l,i),u);e<=n;e=se(e+i,u))r.push(Object.is(e,-0)?0:e);return r}function xt(e,t,l,n,i,o,s){const r=[],u=e.scales[e.axes[t].scale].log,a=R((10==u?U:B)(l));i=N(u,a),10==u&&a<0&&(i=se(i,-a));let f=l;do{r.push(f),f+=i,10==u&&(f=se(f,re.get(i))),f>=i*u&&(i=f)}while(f<=n);return r}function wt(e,t,l,n,i,o,s){let r=e.scales[e.axes[t].scale].asinh,u=n>r?xt(e,t,O(r,l),n,i):[r],a=n>=0&&l<=0?[0]:[];return(l<-r?xt(e,t,O(r,-n),-l,i):[r]).reverse().map((e=>-e)).concat(a,u)}const bt=/./,vt=/[12357]/,_t=/[125]/,kt=/1/,yt=(e,t,l,n)=>e.map(((e,i)=>4==t&&0==e||i%n==0&&l.test(e.toExponential()[e<0?1:0])?e:null));function Mt(e,t,l,n,i){let o=e.axes[l],s=o.scale,r=e.scales[s],u=e.valToPos,a=o._space,f=u(10,s),c=u(9,s)-f>=a?bt:u(7,s)-f>=a?vt:u(5,s)-f>=a?_t:kt;if(c==kt){let e=H(u(1,s)-f);if(e<a)return yt(t.slice().reverse(),r.distr,c,I(a/e)).reverse()}return yt(t,r.distr,c,1)}function St(e,t,l,n,i){let o=e.axes[l],s=o.scale,r=o._space,u=e.valToPos,a=H(u(1,s)-u(2,s));return a<r?yt(t.slice().reverse(),3,bt,I(r/a)).reverse():t}function Et(e,t,l,n){return null==n?"--":null==t?"":W(t)}const zt={show:!0,scale:"y",stroke:"#000",space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ht,side:3,grid:ut,ticks:at,border:ft,font:ct,lineGap:1.5,rotate:0};const Dt={scale:null,auto:!0,sorted:0,min:J,max:-J},Tt=(e,t,l,n,i)=>i,Pt={show:!0,auto:!0,sorted:0,gaps:Tt,alpha:1,facets:[ve({},Dt,{scale:"x"}),ve({},Dt,{scale:"y"})]},At={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Tt,alpha:1,points:{show:function(e,t){let{scale:l,idxs:n}=e.series[0],i=e._data[0],s=e.valToPos(i[n[0]],l,!0),r=e.valToPos(i[n[1]],l,!0),u=H(r-s)/(e.series[t].points.space*o);return n[1]-n[0]<=u},filter:null},values:null,min:J,max:-J,idxs:[],path:null,clip:null};function Yt(e,t,l,n,i){return l/10}const Wt={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Ct=ve({},Wt,{time:!1,ori:1}),Ft={};function Ht(e,t){let l=Ft[e];return l||(l={key:e,plots:[],sub(e){l.plots.push(e)},unsub(e){l.plots=l.plots.filter((t=>t!=e))},pub(e,t,n,i,o,s,r){for(let u=0;u<l.plots.length;u++)l.plots[u]!=t&&l.plots[u].pub(e,t,n,i,o,s,r)}},null!=e&&(Ft[e]=l)),l}function Rt(e,t,l){const n=e.mode,i=e.series[t],o=2==n?e._data[t]:e._data,s=e.scales,r=e.bbox;let u=o[0],a=2==n?o[1]:o[t],f=2==n?s[i.facets[0].scale]:s[e.series[0].scale],c=2==n?s[i.facets[1].scale]:s[i.scale],h=r.left,d=r.top,p=r.width,m=r.height,g=e.valToPosH,x=e.valToPosV;return 0==f.ori?l(i,u,a,f,c,g,x,h,d,p,m,Bt,Jt,Kt,Zt,Qt):l(i,u,a,f,c,x,g,d,h,m,p,Vt,qt,Xt,$t,el)}function Gt(e,t){let l=0,n=0,i=P(e.bands,ce);for(let e=0;e<i.length;e++){let o=i[e];o.series[0]==t?l=o.dir:o.series[1]==t&&(1==o.dir?n|=1:n|=2)}return[l,1==n?-1:2==n?1:3==n?2:0]}function It(e,t,l,n,i){let o=e.mode,s=e.series[t],r=2==o?s.facets[1].scale:s.scale,u=e.scales[r];return-1==i?u.min:1==i?u.max:3==u.distr?1==u.dir?u.min:u.max:0}function Lt(e,t,l,n,i,o){return Rt(e,t,((e,t,s,r,u,a,f,c,h,d,p)=>{let m=e.pxRound;const g=r.dir*(0==r.ori?1:-1),x=0==r.ori?Jt:qt;let w,b;1==g?(w=l,b=n):(w=n,b=l);let v=m(a(t[w],r,d,c)),_=m(f(s[w],u,p,h)),k=m(a(t[b],r,d,c)),y=m(f(1==o?u.max:u.min,u,p,h)),M=new Path2D(i);return x(M,k,y),x(M,v,y),x(M,v,_),M}))}function Ot(e,t,l,n,i,o){let s=null;if(e.length>0){s=new Path2D;const r=0==t?Kt:Xt;let u=l;for(let t=0;t<e.length;t++){let l=e[t];if(l[1]>l[0]){let e=l[0]-u;e>0&&r(s,u,n,e,n+o),u=l[1]}}let a=l+i-u,f=10;a>0&&r(s,u,n-f/2,a,n+o+f)}return s}function Nt(e,t,l,n,i,o,s){let r=[],u=e.length;for(let a=1==i?l:n;a>=l&&a<=n;a+=i){if(null===t[a]){let f=a,c=a;if(1==i)for(;++a<=n&&null===t[a];)c=a;else for(;--a>=l&&null===t[a];)c=a;let h=o(e[f]),d=c==f?h:o(e[c]),p=f-i;h=s<=0&&p>=0&&p<u?o(e[p]):h;let m=c+i;d=s>=0&&m>=0&&m<u?o(e[m]):d,d>=h&&r.push([h,d])}}return r}function jt(e){return 0==e?Z:1==e?G:t=>ne(t,e)}function Ut(e){let t=0==e?Bt:Vt,l=0==e?(e,t,l,n,i,o)=>{e.arcTo(t,l,n,i,o)}:(e,t,l,n,i,o)=>{e.arcTo(l,t,i,n,o)},n=0==e?(e,t,l,n,i)=>{e.rect(t,l,n,i)}:(e,t,l,n,i)=>{e.rect(l,t,i,n)};return(e,i,o,s,r,u=0,a=0)=>{0==u&&0==a?n(e,i,o,s,r):(u=L(u,s/2,r/2),a=L(a,s/2,r/2),t(e,i+u,o),l(e,i+s,o,i+s,o+r,u),l(e,i+s,o+r,i,o+r,a),l(e,i,o+r,i,o,a),l(e,i,o,i+s,o,u),e.closePath())}}const Bt=(e,t,l)=>{e.moveTo(t,l)},Vt=(e,t,l)=>{e.moveTo(l,t)},Jt=(e,t,l)=>{e.lineTo(t,l)},qt=(e,t,l)=>{e.lineTo(l,t)},Kt=Ut(0),Xt=Ut(1),Zt=(e,t,l,n,i,o)=>{e.arc(t,l,n,i,o)},$t=(e,t,l,n,i,o)=>{e.arc(l,t,n,i,o)},Qt=(e,t,l,n,i,o,s)=>{e.bezierCurveTo(t,l,n,i,o,s)},el=(e,t,l,n,i,o,s)=>{e.bezierCurveTo(l,t,i,n,s,o)};function tl(e){return(e,t,l,n,i)=>Rt(e,t,((t,s,r,u,a,f,c,h,d,p,m)=>{let g,x,{pxRound:w,points:b}=t;0==u.ori?(g=Bt,x=Zt):(g=Vt,x=$t);const v=se(b.width*o,3);let _=(b.size-b.width)/2*o,k=se(2*_,3),y=new Path2D,M=new Path2D,{left:S,top:E,width:z,height:D}=e.bbox;Kt(M,S-k,E-k,z+2*k,D+2*k);const T=e=>{if(null!=r[e]){let t=w(f(s[e],u,p,h)),l=w(c(r[e],a,m,d));g(y,t+_,l),x(y,t,l,_,0,2*F)}};if(i)i.forEach(T);else for(let e=l;e<=n;e++)T(e);return{stroke:v>0?y:null,fill:y,clip:M,flags:3}}))}function ll(e){return(t,l,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&e(t,l,n),o!=i&&s!=i&&e(t,l,i),e(t,l,s))}}const nl=ll(Jt),il=ll(qt);function ol(e){const t=P(e?.alignGaps,0);return(e,l,n,i)=>Rt(e,l,((o,s,r,u,a,f,c,h,d,p,m)=>{let g,x,w=o.pxRound,b=e=>w(f(e,u,p,h)),v=e=>w(c(e,a,m,d));0==u.ori?(g=Jt,x=nl):(g=qt,x=il);const _=u.dir*(0==u.ori?1:-1),k={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},M=k.stroke;let S,E,z,D=J,T=-J,P=b(s[1==_?n:i]),A=y(r,n,i,1*_),Y=y(r,n,i,-1*_),W=b(s[A]),C=b(s[Y]),F=!1;for(let e=1==_?n:i;e>=n&&e<=i;e+=_){let t=b(s[e]),l=r[e];t==P?null!=l?(E=v(l),D==J&&(g(M,t,E),S=E),D=L(E,D),T=O(E,T)):null===l&&(F=!0):(D!=J&&(x(M,P,D,T,S,E),z=P),null!=l?(E=v(l),g(M,t,E),D=T=S=E):(D=J,T=-J,null===l&&(F=!0)),P=t)}D!=J&&D!=T&&z!=P&&x(M,P,D,T,S,E);let[H,R]=Gt(e,l);if(null!=o.fill||0!=H){let t=k.fill=new Path2D(M),n=v(o.fillTo(e,l,o.min,o.max,H));g(t,C,n),g(t,W,n)}if(!o.spanGaps){let a=[];F&&a.push(...Nt(s,r,n,i,_,b,t)),k.gaps=a=o.gaps(e,l,n,i,a),k.clip=Ot(a,u.ori,h,d,p,m)}return 0!=R&&(k.band=2==R?[Lt(e,l,n,i,M,-1),Lt(e,l,n,i,M,1)]:Lt(e,l,n,i,M,R)),k}))}function sl(e,t,l,n,i,o){const s=e.length;if(s<2)return null;const r=new Path2D;if(l(r,e[0],t[0]),2==s)n(r,e[1],t[1]);else{let l=Array(s),n=Array(s-1),o=Array(s-1),u=Array(s-1);for(let l=0;l<s-1;l++)o[l]=t[l+1]-t[l],u[l]=e[l+1]-e[l],n[l]=o[l]/u[l];l[0]=n[0];for(let e=1;e<s-1;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?l[e]=0:(l[e]=3*(u[e-1]+u[e])/((2*u[e]+u[e-1])/n[e-1]+(u[e]+2*u[e-1])/n[e]),isFinite(l[e])||(l[e]=0));l[s-1]=n[s-2];for(let n=0;n<s-1;n++)i(r,e[n]+u[n]/3,t[n]+l[n]*u[n]/3,e[n+1]-u[n]/3,t[n+1]-l[n+1]*u[n]/3,e[n+1],t[n+1])}return r}const rl=new Set;function ul(){for(let e of rl)e.syncRect(!0)}t&&(v("resize",n,ul),v("scroll",n,ul,!0),v("dppxchange",n,(()=>{yl.pxRatio=o})));const al=ol(),fl=tl();function cl(e,t,l,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,n)=>hl(e,n,t,l)))}function hl(e,t,l,n){return ve({},0==t?l:n,e)}function dl(e,t,l){return null==t?he:[t,l]}const pl=dl;function ml(e,t,l){return null==t?he:T(t,l,.1,!0)}function gl(e,t,l,n){return null==t?he:M(t,l,e.scales[n].log,!1)}const xl=gl;function wl(e,t,l,n){return null==t?he:S(t,l,e.scales[n].log,!1)}const bl=wl;function vl(e,t,l,n,i){let o=O(q(e),q(t)),s=t-e,r=k(i/n*s,l);do{let e=l[r],t=n*e/s;if(t>=i&&o+(e<5?re.get(e):0)<=17)return[e,t]}while(++r<l.length);return[0,0]}function _l(e){let t,l;return[e=e.replace(/(\d+)px/,((e,n)=>(t=G((l=+n)*o))+"px")),t,l]}function kl(e){e.show&&[e.font,e.labelFont].forEach((e=>{let t=se(e[2]*o,1);e[0]=e[0].replace(/[0-9.]+px/,t+"px"),e[1]=t}))}function yl(t,i,s){const h={mode:P(t.mode,1)},p=h.mode;function g(e,t){return((3==t.distr?U(e>0?e:t.clamp(h,e,t.min,t.max,t.key)):4==t.distr?V(e,t.asinh):e)-t._min)/(t._max-t._min)}function w(e,t,l,n){let i=g(e,t);return n+l*(-1==t.dir?1-i:i)}function b(e,t,l,n){let i=g(e,t);return n+l*(-1==t.dir?i:1-i)}function y(e,t,l,n){return 0==t.ori?w(e,t,l,n):b(e,t,l,n)}h.valToPosH=w,h.valToPosV=b;let z=!1;h.status=0;const D=h.root=c("uplot");if(null!=t.id&&(D.id=t.id),r(D,t.class),t.title){c("u-title",D).textContent=t.title}const A=f("canvas"),Y=h.ctx=A.getContext("2d"),W=c("u-wrap",D);v("click",W,(e=>{if(e.target===j){(cn!=rn||hn!=un)&&wn.click(h,e)}}),!0);const R=h.under=c("u-under",W);W.appendChild(A);const j=h.over=c("u-over",W),B=+P((t=be(t)).pxAlign,1),q=jt(B);(t.plugins||[]).forEach((e=>{e.opts&&(t=e.opts(h,t)||t)}));const Z=t.ms||.001,le=h.series=1==p?cl(t.series||[],pt,At,!1):(oe=t.series||[null],ae=Pt,oe.map(((e,t)=>0==t?null:ve({},ae,e))));var oe,ae;const pe=h.axes=cl(t.axes||[],dt,zt,!0),we=h.scales={},_e=h.bands=t.bands||[];_e.forEach((e=>{e.fill=X(e.fill||null),e.dir=P(e.dir,-1)}));const ye=2==p?le[1].facets[0].scale:le[0].scale,Me={axes:function(){for(let e=0;e<pe.length;e++){let t=pe[e];if(!t.show||!t._show)continue;let l,n,i=t.side,s=i%2,r=t.stroke(h,e),u=0==i||3==i?-1:1;if(t.label){let e=t.labelGap*u,a=G((t._lpos+e)*o);jl(t.labelFont[0],r,"center",2==i?"top":"bottom"),Y.save(),1==s?(l=n=0,Y.translate(a,G(Lt+Nt/2)),Y.rotate((3==i?-F:F)/2)):(l=G(Gt+Ot/2),n=a),Y.fillText(t.label,l,n),Y.restore()}let[a,f]=t._found;if(0==f)continue;let c=we[t.scale],d=0==s?Ot:Nt,p=0==s?Gt:Lt,m=G(t.gap*o),g=t._splits,x=2==c.distr?g.map((e=>Gl[e])):g,w=2==c.distr?Gl[g[1]]-Gl[g[0]]:a,b=t.ticks,v=t.border,_=b.show?G(b.size*o):0,k=t._rotate*-F/180,M=q(t._pos*o),S=M+(_+m)*u;n=0==s?S:0,l=1==s?S:0;let E=t.font[0],z=1==t.align?"left":2==t.align?"right":k>0?"left":k<0?"right":0==s?"center":3==i?"right":"left";jl(E,r,z,k||1==s?"middle":2==i?"top":"bottom");let D=t.font[1]*t.lineGap,T=g.map((e=>q(y(e,c,d,p)))),P=t._values;for(let e=0;e<P.length;e++){let t=P[e];if(null!=t){0==s?l=T[e]:n=T[e],t=""+t;let i=-1==t.indexOf("\n")?[t]:t.split(/\n/gm);for(let e=0;e<i.length;e++){let t=i[e];k?(Y.save(),Y.translate(l,n+e*D),Y.rotate(k),Y.fillText(t,0,0),Y.restore()):Y.fillText(t,l,n+e*D)}}}b.show&&Xl(T,b.filter(h,x,e,f,w),s,i,M,_,se(b.width*o,3),b.stroke(h,e),b.dash,b.cap);let A=t.grid;A.show&&Xl(T,A.filter(h,x,e,f,w),s,0==s?2:1,0==s?Lt:Gt,0==s?Nt:Ot,se(A.width*o,3),A.stroke(h,e),A.dash,A.cap),v.show&&Xl([M],[1],0==s?1:0,0==s?1:2,1==s?Lt:Gt,1==s?Nt:Ot,se(v.width*o,3),v.stroke(h,e),v.dash,v.cap)}ei("drawAxes")},series:function(){Ml>0&&(le.forEach(((e,t)=>{if(t>0&&e.show&&null==e._paths){let l=2==p?[0,i[t][0].length-1]:function(e){let t=K(Sl-1,0,Ml-1),l=K(El+1,0,Ml-1);for(;null==e[t]&&t>0;)t--;for(;null==e[l]&&l<Ml-1;)l++;return[t,l]}(i[t]);e._paths=e.paths(h,t,l[0],l[1])}})),le.forEach(((e,t)=>{if(t>0&&e.show){Rl!=e.alpha&&(Y.globalAlpha=Rl=e.alpha),Bl(t,!1),e._paths&&Vl(t,!1);{Bl(t,!0);let l=e._paths?e._paths.gaps:null,n=e.points.show(h,t,Sl,El,l),i=e.points.filter(h,t,n,l);(n||i)&&(e.points._paths=e.points.paths(h,t,Sl,El,i),Vl(t,!0))}1!=Rl&&(Y.globalAlpha=Rl=1),ei("drawSeries",t)}})))}},Se=(t.drawOrder||["axes","series"]).map((e=>Me[e]));function Ee(e){let l=we[e];if(null==l){let n=(t.scales||fe)[e]||fe;if(null!=n.from)Ee(n.from),we[e]=ve({},we[n.from],n,{key:e});else{l=we[e]=ve({},e==ye?Wt:Ct,n),l.key=e;let t=l.time,i=l.range,o=de(i);if((e!=ye||2==p&&!t)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?E:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?E:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&ge(i))){let e=i;i=(t,l,n)=>null==l?he:T(l,n,e)}l.range=X(i||(t?pl:e==ye?3==l.distr?xl:4==l.distr?bl:dl:3==l.distr?gl:4==l.distr?wl:ml)),l.auto=X(!o&&l.auto),l.clamp=X(l.clamp||Yt),l._min=l._max=null}}}Ee("x"),Ee("y"),1==p&&le.forEach((e=>{Ee(e.scale)})),pe.forEach((e=>{Ee(e.scale)}));for(let e in t.scales)Ee(e);const ze=we[ye],De=ze.distr;let Te,Pe;0==ze.ori?(r(D,"u-hz"),Te=w,Pe=b):(r(D,"u-vt"),Te=b,Pe=w);const Ye={};for(let e in we){let t=we[e];null==t.min&&null==t.max||(Ye[e]={min:t.min,max:t.max},t.min=t.max=null)}const We=t.tzDate||(e=>new Date(G(e/Z))),Ce=t.fmtDate||Ae,Fe=1==Z?Je(We):Xe(We),He=$e(We,Ze(1==Z?Ve:Ke,Ce)),Ie=tt(We,et("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",Ce)),Le=[],Oe=h.legend=ve({},lt,t.legend),Ne=Oe.show,je=Oe.markers;let Ue,Qe,nt;Oe.idxs=Le,je.width=X(je.width),je.dash=X(je.dash),je.stroke=X(je.stroke),je.fill=X(je.fill);let it,ot=[],rt=[],ut=!1,at={};if(Oe.live){const e=le[1]?le[1].values:null;ut=null!=e,it=ut?e(h,1,0):{_:0};for(let e in it)at[e]="--"}if(Ne)if(Ue=f("table","u-legend",D),nt=f("tbody",null,Ue),Oe.mount(h,Ue),ut){Qe=f("thead",null,Ue,nt);let e=f("tr",null,Qe);for(var ft in f("th",null,e),it)f("th","u-label",e).textContent=ft}else r(Ue,"u-inline"),Oe.live&&r(Ue,"u-live");const ct={show:!0},ht={show:!1};const bt=new Map;function vt(e,t,l,n=!0){const i=bt.get(t)||{},o=$t.bind[e](h,t,l,n);o&&(v(e,t,i[e]=o),bt.set(t,i))}function _t(e,t,l){const n=bt.get(t)||{};for(let l in n)null!=e&&l!=e||(_(l,t,n[l]),delete n[l]);null==e&&bt.delete(t)}let kt=0,yt=0,Dt=0,Tt=0,Ft=0,Rt=0,Gt=0,Lt=0,Ot=0,Nt=0;h.bbox={};let Ut=!1,Bt=!1,Vt=!1,Jt=!1,qt=!1,Kt=!1;function Xt(e,t,l){(l||e!=h.width||t!=h.height)&&Zt(e,t),Ql(!1),Vt=!0,Bt=!0,$t.left>=0&&(Jt=Kt=!0),pn()}function Zt(e,t){h.width=kt=Dt=e,h.height=yt=Tt=t,Ft=Rt=0,function(){let e=!1,t=!1,l=!1,n=!1;pe.forEach(((i,o)=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=o%2,u=s+(null!=i.label?i.labelSize:0);u>0&&(r?(Dt-=u,3==o?(Ft+=u,n=!0):l=!0):(Tt-=u,0==o?(Rt+=u,e=!0):t=!0))}})),ol[0]=e,ol[1]=l,ol[2]=t,ol[3]=n,Dt-=yl[1]+yl[3],Ft+=yl[3],Tt-=yl[2]+yl[0],Rt+=yl[0]}(),function(){let e=Ft+Dt,t=Rt+Tt,l=Ft,n=Rt;function i(i,o){switch(i){case 1:return e+=o,e-o;case 2:return t+=o,t-o;case 3:return l-=o,l+o;case 0:return n-=o,n+o}}pe.forEach(((e,t)=>{if(e.show&&e._show){let t=e.side;e._pos=i(t,e._size),null!=e.label&&(e._lpos=i(t,e.labelSize))}}))}();let l=h.bbox;Gt=l.left=ne(Ft*o,.5),Lt=l.top=ne(Rt*o,.5),Ot=l.width=ne(Dt*o,.5),Nt=l.height=ne(Tt*o,.5)}h.setSize=function({width:e,height:t}){Xt(e,t)};const $t=h.cursor=ve({},st,{drag:{y:2==p}},t.cursor),Qt=e=>{$t.event=e};$t.idxs=Le,$t._lock=!1;let el=$t.points;el.show=X(el.show),el.size=X(el.size),el.stroke=X(el.stroke),el.width=X(el.width),el.fill=X(el.fill);const tl=h.focus=ve({},t.focus||{alpha:.3},$t.focus),ll=tl.prox>=0;let nl=[null];function il(t,l){if(1==p||l>0){let e=1==p&&we[t.scale].time,l=t.value;t.value=e?me(l)?tt(We,et(l,Ce)):l||Ie:l||Et,t.label=t.label||(e?"Time":"Value")}if(l>0){t.width=null==t.width?1:t.width,t.paths=t.paths||al||Q,t.fillTo=X(t.fillTo||It),t.pxAlign=+P(t.pxAlign,B),t.pxRound=jt(t.pxAlign),t.stroke=X(t.stroke||null),t.fill=X(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let e=se((3+2*(O(1,t.width)||1))*1,3),l=t.points=ve({},{size:e,width:O(1,.2*e),stroke:t.stroke,space:2*e,paths:fl,_stroke:null,_fill:null},t.points);l.show=X(l.show),l.filter=X(l.filter),l.fill=X(l.fill),l.stroke=X(l.stroke),l.paths=X(l.paths),l.pxAlign=t.pxAlign}if(Ne){let n=function(t,l){if(0==l&&(ut||!Oe.live||2==p))return he;let n=[],i=f("tr","u-series",nt,nt.childNodes[l]);r(i,t.class),t.show||r(i,e);let o=f("th",null,i);if(je.show){let e=c("u-marker",o);if(l>0){let t=je.width(h,l);t&&(e.style.border=t+"px "+je.dash(h,l)+" "+je.stroke(h,l)),e.style.background=je.fill(h,l)}}let s=c("u-label",o);for(var u in s.textContent=t.label,l>0&&(je.show||(s.style.color=t.width>0?je.stroke(h,l):je.fill(h,l)),vt("click",o,(e=>{if($t._lock)return;Qt(e);let l=le.indexOf(t);if((e.ctrlKey||e.metaKey)!=Oe.isolate){let e=le.some(((e,t)=>t>0&&t!=l&&e.show));le.forEach(((t,n)=>{n>0&&Sn(n,e?n==l?ct:ht:ct,!0,li.setSeries)}))}else Sn(l,{show:!t.show},!0,li.setSeries)}),!1),ll&&vt("mouseenter",o,(e=>{$t._lock||(Qt(e),Sn(le.indexOf(t),Tn,!0,li.setSeries))}),!1)),it){let e=f("td","u-value",i);e.textContent="--",n.push(e)}return[i,n]}(t,l);ot.splice(l,0,n[0]),rt.splice(l,0,n[1]),Oe.values.push(null)}if($t.show){Le.splice(l,0,null);let e=function(e,t){if(t>0){let l=$t.points.show(h,t);if(l)return r(l,"u-cursor-pt"),r(l,e.class),d(l,-10,-10,Dt,Tt),j.insertBefore(l,nl[t]),l}}(t,l);e&&nl.splice(l,0,e)}ei("addSeries",l)}h.addSeries=function(e,t){t=null==t?le.length:t,e=1==p?hl(e,t,pt,At):hl(e,t,null,Pt),le.splice(t,0,e),il(le[t],t)},h.delSeries=function(e){if(le.splice(e,1),Ne){Oe.values.splice(e,1),rt.splice(e,1);let t=ot.splice(e,1)[0];_t(null,t.firstChild),t.remove()}$t.show&&(Le.splice(e,1),nl.length>1&&nl.splice(e,1)[0].remove()),ei("delSeries",e)};const ol=[!1,!1,!1,!1];function sl(e,t,l,n){let[i,o,s,r]=l,u=t%2,a=0;return 0==u&&(r||o)&&(a=0==t&&!i||2==t&&!s?G(dt.size/3):0),1==u&&(i||s)&&(a=1==t&&!o||3==t&&!r?G(zt.size/2):0),a}const ul=h.padding=(t.padding||[sl,sl,sl,sl]).map((e=>X(P(e,sl)))),yl=h._padding=ul.map(((e,t)=>e(h,t,ol,0)));let Ml,Sl=null,El=null;const zl=1==p?le[0].idxs:null;let Dl,Tl,Pl,Al,Yl,Wl,Cl,Fl,Hl,Rl,Gl=null,Il=!1;function Ll(e,t){if(i=null==e?[]:be(e,xe),2==p){Ml=0;for(let e=1;e<le.length;e++)Ml+=i[e][0].length;h.data=i=e}else if(null==i[0]&&(i[0]=[]),h.data=i.slice(),Gl=i[0],Ml=Gl.length,2==De){i[0]=Array(Ml);for(let e=0;e<Ml;e++)i[0][e]=e}if(h._data=i,Ql(!0),ei("setData"),2==De&&(Vt=!0),!1!==t){let e=ze;e.auto(h,Il)?Ol():Mn(ye,e.min,e.max),Jt=Jt||$t.left>=0,Kt=!0,pn()}}function Ol(){let e,t;Il=!0,1==p&&(Ml>0?(Sl=zl[0]=0,El=zl[1]=Ml-1,e=i[0][Sl],t=i[0][El],2==De?(e=Sl,t=El):e==t&&(3==De?[e,t]=M(e,e,ze.log,!1):4==De?[e,t]=S(e,e,ze.log,!1):ze.time?t=e+G(86400/Z):[e,t]=T(e,t,.1,!0))):(Sl=zl[0]=e=null,El=zl[1]=t=null)),Mn(ye,e,t)}function Nl(e,t,l,n,i,o){e??="#0000",l??=ce,n??="butt",i??="#0000",o??="round",e!=Dl&&(Y.strokeStyle=Dl=e),i!=Tl&&(Y.fillStyle=Tl=i),t!=Pl&&(Y.lineWidth=Pl=t),o!=Yl&&(Y.lineJoin=Yl=o),n!=Wl&&(Y.lineCap=Wl=n),l!=Al&&Y.setLineDash(Al=l)}function jl(e,t,l,n){t!=Tl&&(Y.fillStyle=Tl=t),e!=Cl&&(Y.font=Cl=e),l!=Fl&&(Y.textAlign=Fl=l),n!=Hl&&(Y.textBaseline=Hl=n)}function Ul(e,t,l,n,i=0){if(n.length>0&&e.auto(h,Il)&&(null==t||null==t.min)){let t=P(Sl,0),o=P(El,n.length-1),s=null==l.min?3==e.distr?function(e,t,l){let n=J,i=-J;for(let o=t;o<=l;o++){let t=e[o];null!=t&&t>0&&(t<n&&(n=t),t>i&&(i=t))}return[n==J?1:n,i==-J?10:i]}(n,t,o):function(e,t,l,n){let i=J,o=-J;if(1==n)i=e[t],o=e[l];else if(-1==n)i=e[l],o=e[t];else for(let n=t;n<=l;n++){let t=e[n];null!=t&&(t<i&&(i=t),t>o&&(o=t))}return[i,o]}(n,t,o,i):[l.min,l.max];e.min=L(e.min,l.min=s[0]),e.max=O(e.max,l.max=s[1])}}function Bl(e,t){let l=t?le[e].points:le[e];l._stroke=l.stroke(h,e),l._fill=l.fill(h,e)}function Vl(e,t){let l=t?le[e].points:le[e],n=l._stroke,s=l._fill,{stroke:r,fill:u,clip:a,flags:f}=l._paths,c=null,d=se(l.width*o,3),p=d%2/2;t&&null==s&&(s=d>0?"#fff":n);let m=1==l.pxAlign&&p>0;if(m&&Y.translate(p,p),!t){let e=Gt-d/2,t=Lt-d/2,l=Ot+d,n=Nt+d;c=new Path2D,c.rect(e,t,l,n)}t?Jl(n,d,l.dash,l.cap,s,r,u,f,a):function(e,t,l,n,o,s,r,u,a,f,c){let d=!1;_e.forEach(((p,m)=>{if(p.series[0]==e){let e,g=le[p.series[1]],x=i[p.series[1]],w=(g._paths||fe).band;de(w)&&(w=1==p.dir?w[0]:w[1]);let b=null;g.show&&w&&function(e,t,l){for(t=P(t,0),l=P(l,e.length-1);t<=l;){if(null!=e[t])return!0;t++}return!1}(x,Sl,El)?(b=p.fill(h,m)||s,e=g._paths.clip):w=null,Jl(t,l,n,o,b,r,u,a,f,c,e,w),d=!0}})),d||Jl(t,l,n,o,s,r,u,a,f,c)}(e,n,d,l.dash,l.cap,s,r,u,f,c,a),m&&Y.translate(-p,-p)}h.setData=Ll;function Jl(e,t,l,n,i,o,s,r,u,a,f,c){Nl(e,t,l,n,i),(u||a||c)&&(Y.save(),u&&Y.clip(u),a&&Y.clip(a)),c?3==(3&r)?(Y.clip(c),f&&Y.clip(f),Kl(i,s),ql(e,o,t)):2&r?(Kl(i,s),Y.clip(c),ql(e,o,t)):1&r&&(Y.save(),Y.clip(c),f&&Y.clip(f),Kl(i,s),Y.restore(),ql(e,o,t)):(Kl(i,s),ql(e,o,t)),(u||a||c)&&Y.restore()}function ql(e,t,l){l>0&&(t instanceof Map?t.forEach(((e,t)=>{Y.strokeStyle=Dl=t,Y.stroke(e)})):null!=t&&e&&Y.stroke(t))}function Kl(e,t){t instanceof Map?t.forEach(((e,t)=>{Y.fillStyle=Tl=t,Y.fill(e)})):null!=t&&e&&Y.fill(t)}function Xl(e,t,l,n,i,o,s,r,u,a){let f=s%2/2;1==B&&Y.translate(f,f),Nl(r,s,u,a,r),Y.beginPath();let c,h,d,p,m=i+(0==n||3==n?-o:o);0==l?(h=i,p=m):(c=i,d=m);for(let n=0;n<e.length;n++)null!=t[n]&&(0==l?c=d=e[n]:h=p=e[n],Y.moveTo(c,h),Y.lineTo(d,p));Y.stroke(),1==B&&Y.translate(-f,-f)}function Zl(e){let t=!0;return pe.forEach(((l,n)=>{if(!l.show)return;let i=we[l.scale];if(null==i.min)return void(l._show&&(t=!1,l._show=!1,Ql(!1)));l._show||(t=!1,l._show=!0,Ql(!1));let o=l.side,s=o%2,{min:r,max:u}=i,[a,f]=function(e,t,l,n){let i,o=pe[e];if(n<=0)i=[0,0];else{let s=o._space=o.space(h,e,t,l,n);i=vl(t,l,o._incrs=o.incrs(h,e,t,l,n,s),n,s)}return o._found=i}(n,r,u,0==s?Dt:Tt);if(0==f)return;let c=2==i.distr,d=l._splits=l.splits(h,n,r,u,a,f,c),p=2==i.distr?d.map((e=>Gl[e])):d,m=2==i.distr?Gl[d[1]]-Gl[d[0]]:a,g=l._values=l.values(h,l.filter(h,p,n,f,m),n,f,m);l._rotate=2==o?l.rotate(h,g,n,f):0;let x=l._size;l._size=I(l.size(h,g,n,e)),null!=x&&l._size!=x&&(t=!1)})),t}function $l(e){let t=!0;return ul.forEach(((l,n)=>{let i=l(h,n,ol,e);i!=yl[n]&&(t=!1),yl[n]=i})),t}function Ql(e){le.forEach(((t,l)=>{l>0&&(t._paths=null,e&&(1==p?(t.min=null,t.max=null):t.facets.forEach((e=>{e.min=null,e.max=null}))))}))}let en,tn,ln,nn,on,sn,rn,un,an,fn,cn,hn,dn=!1;function pn(){dn||(ke(mn),dn=!0)}function mn(){Ut&&(!function(){let e=be(we,xe);for(let t in e){let l=e[t],n=Ye[t];if(null!=n&&null!=n.min)ve(l,n),t==ye&&Ql(!0);else if(t!=ye||2==p)if(0==Ml&&null==l.from){let e=l.range(h,null,null,t);l.min=e[0],l.max=e[1]}else l.min=J,l.max=-J}if(Ml>0){le.forEach(((t,l)=>{if(1==p){let n=t.scale,o=e[n],s=Ye[n];if(0==l){let e=o.range(h,o.min,o.max,n);o.min=e[0],o.max=e[1],Sl=k(o.min,i[0]),El=k(o.max,i[0]),El-Sl>1&&(i[0][Sl]<o.min&&Sl++,i[0][El]>o.max&&El--),t.min=Gl[Sl],t.max=Gl[El]}else t.show&&t.auto&&Ul(o,s,t,i[l],t.sorted);t.idxs[0]=Sl,t.idxs[1]=El}else if(l>0&&t.show&&t.auto){let[n,o]=t.facets,s=n.scale,r=o.scale,[u,a]=i[l];Ul(e[s],Ye[s],n,u,n.sorted),Ul(e[r],Ye[r],o,a,o.sorted),t.min=o.min,t.max=o.max}}));for(let t in e){let l=e[t],n=Ye[t];if(null==l.from&&(null==n||null==n.min)){let e=l.range(h,l.min==J?null:l.min,l.max==-J?null:l.max,t);l.min=e[0],l.max=e[1]}}}for(let t in e){let l=e[t];if(null!=l.from){let n=e[l.from];if(null==n.min)l.min=l.max=null;else{let e=l.range(h,n.min,n.max,t);l.min=e[0],l.max=e[1]}}}let t={},l=!1;for(let n in e){let i=e[n],o=we[n];if(o.min!=i.min||o.max!=i.max){o.min=i.min,o.max=i.max;let e=o.distr;o._min=3==e?U(o.min):4==e?V(o.min,o.asinh):o.min,o._max=3==e?U(o.max):4==e?V(o.max,o.asinh):o.max,t[n]=l=!0}}if(l){le.forEach(((e,l)=>{2==p?l>0&&t.y&&(e._paths=null):t[e.scale]&&(e._paths=null)}));for(let e in t)Vt=!0,ei("setScale",e);$t.show&&$t.left>=0&&(Jt=Kt=!0)}for(let e in Ye)Ye[e]=null}(),Ut=!1),Vt&&(!function(){let e=!1,t=0;for(;!e;){t++;let l=Zl(t),n=$l(t);e=3==t||l&&n,e||(Zt(h.width,h.height),Bt=!0)}}(),Vt=!1),Bt&&(a(R,"left",Ft),a(R,"top",Rt),a(R,"width",Dt),a(R,"height",Tt),a(j,"left",Ft),a(j,"top",Rt),a(j,"width",Dt),a(j,"height",Tt),a(W,"width",kt),a(W,"height",yt),A.width=G(kt*o),A.height=G(yt*o),pe.forEach((({_el:t,_show:l,_size:n,_pos:i,side:o})=>{if(null!=t)if(l){let l=o%2==1;a(t,l?"left":"top",i-(3===o||0===o?n:0)),a(t,l?"width":"height",n),a(t,l?"top":"left",l?Rt:Ft),a(t,l?"height":"width",l?Tt:Dt),u(t,e)}else r(t,e)})),Dl=Tl=Pl=Yl=Wl=Cl=Fl=Hl=Al=null,Rl=1,In(!0),ei("setSize"),Bt=!1),kt>0&&yt>0&&(Y.clearRect(0,0,A.width,A.height),ei("drawClear"),Se.forEach((e=>e())),ei("draw")),_n.show&&qt&&(yn(_n),qt=!1),$t.show&&Jt&&(Rn(null,!0,!1),Jt=!1),Oe.show&&Oe.live&&Kt&&(Fn(),Kt=!1),z||(z=!0,h.status=1,ei("ready")),Il=!1,dn=!1}function gn(e,t){let l=we[e];if(null==l.from){if(0==Ml){let n=l.range(h,t.min,t.max,e);t.min=n[0],t.max=n[1]}if(t.min>t.max){let e=t.min;t.min=t.max,t.max=e}if(Ml>1&&null!=t.min&&null!=t.max&&t.max-t.min<1e-16)return;e==ye&&2==l.distr&&Ml>0&&(t.min=k(t.min,i[0]),t.max=k(t.max,i[0]),t.min==t.max&&t.max++),Ye[e]=t,Ut=!0,pn()}}h.redraw=(e,t)=>{Vt=t||!1,!1!==e?Mn(ye,ze.min,ze.max):pn()},h.setScale=gn;let xn=!1;const wn=$t.drag;let bn=wn.x,vn=wn.y;$t.show&&($t.x&&(en=c("u-cursor-x",j)),$t.y&&(tn=c("u-cursor-y",j)),0==ze.ori?(ln=en,nn=tn):(ln=tn,nn=en),cn=$t.left,hn=$t.top);const _n=h.select=ve({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),kn=_n.show?c("u-select",_n.over?j:R):null;function yn(e,t){if(_n.show){for(let t in e)_n[t]=e[t],t in Nn&&a(kn,t,e[t]);!1!==t&&ei("setSelect")}}function Mn(e,t,l){gn(e,{min:t,max:l})}function Sn(t,l,n,i){null!=l.focus&&function(e){if(e!=Dn){let t=null==e,l=1!=tl.alpha;le.forEach(((n,i)=>{let o=t||0==i||i==e;n._focus=t?null:o,l&&function(e,t){le[e].alpha=t,$t.show&&nl[e]&&(nl[e].style.opacity=t);Ne&&ot[e]&&(ot[e].style.opacity=t)}(i,o?1:tl.alpha)})),Dn=e,l&&pn()}}(t),null!=l.show&&le.forEach(((n,i)=>{i>0&&(t==i||null==t)&&(n.show=l.show,function(t,l){let n=le[t],i=Ne?ot[t]:null;n.show?i&&u(i,e):(i&&r(i,e),nl.length>1&&d(nl[t],-10,-10,Dt,Tt))}(i,l.show),Mn(2==p?n.facets[1].scale:n.scale,null,null),pn())})),!1!==n&&ei("setSeries",t,l),i&&oi("setSeries",h,t,l)}let En,zn,Dn;h.setSelect=yn,h.setSeries=Sn,h.addBand=function(e,t){e.fill=X(e.fill||null),e.dir=P(e.dir,-1),t=null==t?_e.length:t,_e.splice(t,0,e)},h.setBand=function(e,t){ve(_e[e],t)},h.delBand=function(e){null==e?_e.length=0:_e.splice(e,1)};const Tn={focus:!0};function Pn(e,t,l){let n=we[t];l&&(e=e/o-(1==n.ori?Rt:Ft));let i=Dt;1==n.ori&&(i=Tt,e=i-e),-1==n.dir&&(e=i-e);let s=n._min,r=s+(n._max-s)*(e/i),u=n.distr;return 3==u?N(10,r):4==u?((e,t=1)=>C.sinh(e)*t)(r,n.asinh):r}function An(e,t){a(kn,"left",_n.left=e),a(kn,"width",_n.width=t)}function Yn(e,t){a(kn,"top",_n.top=e),a(kn,"height",_n.height=t)}Ne&&ll&&vt("mouseleave",Ue,(e=>{$t._lock||(Qt(e),null!=Dn&&Sn(null,Tn,!0,li.setSeries))})),h.valToIdx=e=>k(e,i[0]),h.posToIdx=function(e,t){return k(Pn(e,ye,t),i[0],Sl,El)},h.posToVal=Pn,h.valToPos=(e,t,l)=>0==we[t].ori?w(e,we[t],l?Ot:Dt,l?Gt:0):b(e,we[t],l?Nt:Tt,l?Lt:0),h.batch=function(e){e(h),pn()},h.setCursor=(e,t,l)=>{cn=e.left,hn=e.top,Rn(null,t,l)};let Wn=0==ze.ori?An:Yn,Cn=1==ze.ori?An:Yn;function Fn(e,t){null!=e&&(e.idxs?e.idxs.forEach(((e,t)=>{Le[t]=e})):void 0!==e.idx&&Le.fill(e.idx),Oe.idx=Le[0]);for(let e=0;e<le.length;e++)(e>0||1==p&&!ut)&&Hn(e,Le[e]);Ne&&Oe.live&&function(){if(Ne&&Oe.live)for(let e=2==p?1:0;e<le.length;e++){if(0==e&&ut)continue;let t=Oe.values[e],l=0;for(let n in t)rt[e][l++].firstChild.nodeValue=t[n]}}(),Kt=!1,!1!==t&&ei("setLegend")}function Hn(e,t){let l,n=le[e],o=0==e&&2==De?Gl:i[e];ut?l=n.values(h,e,t)??at:(l=n.value(h,null==t?null:o[t],e,t),l=null==l?at:{_:l}),Oe.values[e]=l}function Rn(e,t,l){let n;an=cn,fn=hn,[cn,hn]=$t.move(h,cn,hn),$t.show&&(ln&&d(ln,G(cn),0,Dt,Tt),nn&&d(nn,0,G(hn),Dt,Tt));let o=Sl>El;En=J;let s=0==ze.ori?Dt:Tt,r=1==ze.ori?Dt:Tt;if(cn<0||0==Ml||o){n=null;for(let e=0;e<le.length;e++)e>0&&nl.length>1&&d(nl[e],-10,-10,Dt,Tt);ll&&Sn(null,Tn,!0,null==e&&li.setSeries),Oe.live&&(Le.fill(n),Kt=!0)}else{let e,t,l;1==p&&(e=0==ze.ori?cn:hn,t=Pn(e,ye),n=k(t,i[0],Sl,El),l=Te(i[0][n],ze,s,0));for(let e=2==p?1:0;e<le.length;e++){let o=le[e],u=Le[e],a=1==p?i[e][u]:i[e][1][u],f=$t.dataIdx(h,e,n,t),c=1==p?i[e][f]:i[e][1][f];Kt=Kt||c!=a||f!=u,Le[e]=f;let g=ie(f==n?l:Te(1==p?i[0][f]:i[e][0][f],ze,s,0),1);if(e>0&&o.show){let t,l,n=null==c?-10:ie(Pe(c,1==p?we[o.scale]:we[o.facets[1].scale],r,0),1);if(ll&&n>=0&&1==p){let t=H(n-hn);if(t<En){let l=tl.bias;if(0!=l){let n=Pn(1==ze.ori?cn:hn,o.scale),i=n>=0?1:-1;i==(c>=0?1:-1)&&(1==i?1==l?c>=n:c<=n:1==l?c<=n:c>=n)&&(En=t,zn=e)}else En=t,zn=e}}if(0==ze.ori?(t=g,l=n):(t=n,l=g),Kt&&nl.length>1){m(nl[e],$t.points.fill(h,e),$t.points.stroke(h,e));let n,i,o,s,r=!0,u=$t.points.bbox;if(null!=u){r=!1;let t=u(h,e);o=t.left,s=t.top,n=t.width,i=t.height}else o=t,s=l,n=i=$t.points.size(h,e);x(nl[e],n,i,r),d(nl[e],o,s,Dt,Tt)}}}}if($t.idx=n,$t.left=cn,$t.top=hn,Kt&&(Oe.idx=n,Fn()),_n.show&&xn)if(null!=e){let[t,l]=li.scales,[n,i]=li.match,[o,u]=e.cursor.sync.scales,a=e.cursor.drag;if(bn=a._x,vn=a._y,bn||vn){let a,f,c,h,d,{left:p,top:m,width:g,height:x}=e.select,w=e.scales[t].ori,b=e.posToVal,v=null!=t&&n(t,o),_=null!=l&&i(l,u);v&&bn?(0==w?(a=p,f=g):(a=m,f=x),c=we[t],h=Te(b(a,o),c,s,0),d=Te(b(a+f,o),c,s,0),Wn(L(h,d),H(d-h))):Wn(0,s),_&&vn?(1==w?(a=p,f=g):(a=m,f=x),c=we[l],h=Pe(b(a,u),c,r,0),d=Pe(b(a+f,u),c,r,0),Cn(L(h,d),H(d-h))):Cn(0,r)}else jn()}else{let e=H(an-on),t=H(fn-sn);if(1==ze.ori){let l=e;e=t,t=l}bn=wn.x&&e>=wn.dist,vn=wn.y&&t>=wn.dist;let l,n,i=wn.uni;null!=i?bn&&vn&&(bn=e>=i,vn=t>=i,bn||vn||(t>e?vn=!0:bn=!0)):wn.x&&wn.y&&(bn||vn)&&(bn=vn=!0),bn&&(0==ze.ori?(l=rn,n=cn):(l=un,n=hn),Wn(L(l,n),H(n-l)),vn||Cn(0,r)),vn&&(1==ze.ori?(l=rn,n=cn):(l=un,n=hn),Cn(L(l,n),H(n-l)),bn||Wn(0,s)),bn||vn||(Wn(0,0),Cn(0,0))}if(wn._x=bn,wn._y=vn,null==e){if(l){if(null!=ni){let[e,t]=li.scales;li.values[0]=null!=e?Pn(0==ze.ori?cn:hn,e):null,li.values[1]=null!=t?Pn(1==ze.ori?cn:hn,t):null}oi("mousemove",h,cn,hn,Dt,Tt,n)}if(ll){let e=l&&li.setSeries,t=tl.prox;null==Dn?En<=t&&Sn(zn,Tn,!0,e):En>t?Sn(null,Tn,!0,e):zn!=Dn&&Sn(zn,Tn,!0,e)}}!1!==t&&ei("setCursor")}h.setLegend=Fn;let Gn=null;function In(e=!1){e?Gn=null:(Gn=j.getBoundingClientRect(),ei("syncRect",Gn))}function Ln(e,t,l,n,i,o,s){$t._lock||xn&&null!=e&&0==e.movementX&&0==e.movementY||(On(e,t,l,n,i,o,s,!1,null!=e),null!=e?Rn(null,!0,!0):Rn(t,!0,!1))}function On(e,t,l,n,i,o,s,r,u){if(null==Gn&&In(!1),Qt(e),null!=e)l=e.clientX-Gn.left,n=e.clientY-Gn.top;else{if(l<0||n<0)return cn=-10,void(hn=-10);let[e,s]=li.scales,r=t.cursor.sync,[u,a]=r.values,[f,c]=r.scales,[h,d]=li.match,p=t.axes[0].side%2==1,m=0==ze.ori?Dt:Tt,g=1==ze.ori?Dt:Tt,x=p?o:i,w=p?i:o,b=p?n:l,v=p?l:n;if(l=null!=f?h(e,f)?y(u,we[e],m,0):-10:m*(b/x),n=null!=c?d(s,c)?y(a,we[s],g,0):-10:g*(v/w),1==ze.ori){let e=l;l=n,n=e}}u&&((l<=1||l>=Dt-1)&&(l=ne(l,Dt)),(n<=1||n>=Tt-1)&&(n=ne(n,Tt))),r?(on=l,sn=n,[rn,un]=$t.move(h,l,n)):(cn=l,hn=n)}Object.defineProperty(h,"rect",{get:()=>(null==Gn&&In(!1),Gn)});const Nn={width:0,height:0,left:0,top:0};function jn(){yn(Nn,!1)}let Un,Bn,Vn,Jn;function qn(e,t,n,i,o,s,r){xn=!0,bn=vn=wn._x=wn._y=!1,On(e,t,n,i,o,s,0,!0,!1),null!=e&&(vt("mouseup",l,Kn,!1),oi("mousedown",h,rn,un,Dt,Tt,null));let{left:u,top:a,width:f,height:c}=_n;Un=u,Bn=a,Vn=f,Jn=c,jn()}function Kn(e,t,n,i,o,s,r){xn=wn._x=wn._y=!1,On(e,t,n,i,o,s,0,!1,!0);let{left:u,top:a,width:f,height:c}=_n,d=f>0||c>0,p=Un!=u||Bn!=a||Vn!=f||Jn!=c;if(d&&p&&yn(_n),wn.setScale&&d&&p){let e=u,t=f,l=a,n=c;if(1==ze.ori&&(e=a,t=c,l=u,n=f),bn&&Mn(ye,Pn(e,ye),Pn(e+t,ye)),vn)for(let e in we){let t=we[e];e!=ye&&null==t.from&&t.min!=J&&Mn(e,Pn(l+n,e),Pn(l,e))}jn()}else $t.lock&&($t._lock=!$t._lock,$t._lock||Rn(null,!0,!1));null!=e&&(_t("mouseup",l),oi("mouseup",h,cn,hn,Dt,Tt,null))}function Xn(e,t,l,n,i,o,s){$t._lock||(Qt(e),Ol(),jn(),null!=e&&oi("dblclick",h,cn,hn,Dt,Tt,null))}function Zn(){pe.forEach(kl),Xt(h.width,h.height,!0)}v("dppxchange",n,Zn);const $n={};$n.mousedown=qn,$n.mousemove=Ln,$n.mouseup=Kn,$n.dblclick=Xn,$n.setSeries=(e,t,l,n)=>{-1!=(l=(0,li.match[2])(h,t,l))&&Sn(l,n,!0,!1)},$t.show&&(vt("mousedown",j,qn),vt("mousemove",j,Ln),vt("mouseenter",j,(e=>{Qt(e),In(!1)})),vt("mouseleave",j,(function(e,t,l,n,i,o,s){if($t._lock)return;Qt(e);let r=xn;if(xn){let e,t,l=!0,n=!0,i=10;0==ze.ori?(e=bn,t=vn):(e=vn,t=bn),e&&t&&(l=cn<=i||cn>=Dt-i,n=hn<=i||hn>=Tt-i),e&&l&&(cn=cn<rn?0:Dt),t&&n&&(hn=hn<un?0:Tt),Rn(null,!0,!0),xn=!1}cn=-10,hn=-10,Rn(null,!0,!0),r&&(xn=r)})),vt("dblclick",j,Xn),rl.add(h),h.syncRect=In);const Qn=h.hooks=t.hooks||{};function ei(e,t,l){e in Qn&&Qn[e].forEach((e=>{e.call(null,h,t,l)}))}(t.plugins||[]).forEach((e=>{for(let t in e.hooks)Qn[t]=(Qn[t]||[]).concat(e.hooks[t])}));const ti=(e,t,l)=>l,li=ve({key:null,setSeries:!1,filters:{pub:ee,sub:ee},scales:[ye,le[1]?le[1].scale:null],match:[te,te,ti],values:[null,null]},$t.sync);2==li.match.length&&li.match.push(ti),$t.sync=li;const ni=li.key,ii=Ht(ni);function oi(e,t,l,n,i,o,s){li.filters.pub(e,t,l,n,i,o,s)&&ii.pub(e,t,l,n,i,o,s)}function si(){ei("init",t,i),Ll(i||t.data,!1),Ye[ye]?gn(ye,Ye[ye]):Ol(),qt=_n.show,Jt=Kt=!0,Xt(t.width,t.height)}return ii.sub(h),h.pub=function(e,t,l,n,i,o,s){li.filters.sub(e,t,l,n,i,o,s)&&$n[e](null,t,l,n,i,o,s)},h.destroy=function(){ii.unsub(h),rl.delete(h),bt.clear(),_("dppxchange",n,Zn),D.remove(),Ue?.remove(),ei("destroy")},le.forEach(il),pe.forEach((function(e,t){if(e._show=e.show,e.show){let l=e.side%2,n=we[e.scale];null==n&&(e.scale=l?le[1].scale:ye,n=we[e.scale]);let i=n.time;e.size=X(e.size),e.space=X(e.space),e.rotate=X(e.rotate),de(e.incrs)&&e.incrs.forEach((e=>{!re.has(e)&&re.set(e,ue(e))})),e.incrs=X(e.incrs||(2==n.distr?Re:i?1==Z?Be:qe:Ge)),e.splits=X(e.splits||(i&&1==n.distr?Fe:3==n.distr?xt:4==n.distr?wt:gt)),e.stroke=X(e.stroke),e.grid.stroke=X(e.grid.stroke),e.ticks.stroke=X(e.ticks.stroke),e.border.stroke=X(e.border.stroke);let o=e.values;e.values=de(o)&&!de(o[0])?X(o):i?de(o)?$e(We,Ze(o,Ce)):me(o)?function(e,t){let l=Ae(t);return(t,n,i,o,s)=>n.map((t=>l(e(t))))}(We,o):o||He:o||mt,e.filter=X(e.filter||(n.distr>=3&&10==n.log?Mt:3==n.distr&&2==n.log?St:$)),e.font=_l(e.font),e.labelFont=_l(e.labelFont),e._size=e.size(h,null,t,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(ol[t]=!0,e._el=c("u-axis",W))}})),s?s instanceof HTMLElement?(s.appendChild(D),si()):s(h,si):si(),h}yl.assign=ve,yl.fmtNum=W,yl.rangeNum=T,yl.rangeLog=M,yl.rangeAsinh=S,yl.orient=Rt,yl.pxRatio=o,yl.join=function(e,t){if(function(e){let t=e[0][0],l=t.length;for(let n=1;n<e.length;n++){let i=e[n][0];if(i.length!=l)return!1;if(i!=t)for(let e=0;e<l;e++)if(i[e]!=t[e])return!1}return!0}(e)){let t=e[0].slice();for(let l=1;l<e.length;l++)t.push(...e[l].slice(1));return function(e,t=100){const l=e.length;if(l<=1)return!0;let n=0,i=l-1;for(;n<=i&&null==e[n];)n++;for(;i>=n&&null==e[i];)i--;if(i<=n)return!0;const o=O(1,R((i-n+1)/t));for(let t=e[n],l=n+o;l<=i;l+=o){const n=e[l];if(null!=n){if(n<=t)return!1;t=n}}return!0}(t[0])||(t=function(e){let t=e[0],l=t.length,n=Array(l);for(let e=0;e<n.length;e++)n[e]=e;n.sort(((e,l)=>t[e]-t[l]));let i=[];for(let t=0;t<e.length;t++){let o=e[t],s=Array(l);for(let e=0;e<l;e++)s[e]=o[n[e]];i.push(s)}return i}(t)),t}let l=new Set;for(let t=0;t<e.length;t++){let n=e[t][0],i=n.length;for(let e=0;e<i;e++)l.add(n[e])}let n=[Array.from(l).sort(((e,t)=>e-t))],i=n[0].length,o=new Map;for(let e=0;e<i;e++)o.set(n[0][e],e);for(let l=0;l<e.length;l++){let s=e[l],r=s[0];for(let e=1;e<s.length;e++){let u=s[e],a=Array(i).fill(void 0),f=t?t[l][e]:1,c=[];for(let e=0;e<u.length;e++){let t=u[e],l=o.get(r[e]);null===t?0!=f&&(a[l]=t,2==f&&c.push(l)):a[l]=t}_e(a,c,i),n.push(a)}}return n},yl.fmtDate=Ae,yl.tzDate=function(e,t){let l;return"UTC"==t||"Etc/UTC"==t?l=new Date(+e+6e4*e.getTimezoneOffset()):t==Ye?l=e:(l=new Date(e.toLocaleString("en-US",{timeZone:t})),l.setMilliseconds(e.getMilliseconds())),l},yl.sync=Ht;{yl.addGap=function(e,t,l){let n=e[e.length-1];n&&n[0]==t?n[1]=l:e.push([t,l])},yl.clipGaps=Ot;let e=yl.paths={points:tl};e.linear=ol,e.stepped=function(e){const t=P(e.align,1),l=P(e.ascDesc,!1),n=P(e.alignGaps,0),i=P(e.extend,!1);return(e,s,r,u)=>Rt(e,s,((a,f,c,h,d,p,m,g,x,w,b)=>{let v=a.pxRound,{left:_,width:k}=e.bbox,M=e=>v(p(e,h,w,g)),S=e=>v(m(e,d,b,x)),E=0==h.ori?Jt:qt;const z={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},D=z.stroke,T=h.dir*(0==h.ori?1:-1);r=y(c,r,u,1),u=y(c,r,u,-1);let P=S(c[1==T?r:u]),A=M(f[1==T?r:u]),Y=A,W=A;i&&-1==t&&(W=_,E(D,W,P)),E(D,A,P);for(let e=1==T?r:u;e>=r&&e<=u;e+=T){let l=c[e];if(null==l)continue;let n=M(f[e]),i=S(l);1==t?E(D,n,P):E(D,Y,i),E(D,n,i),P=i,Y=n}let C=Y;i&&1==t&&(C=_+k,E(D,C,P));let[F,H]=Gt(e,s);if(null!=a.fill||0!=F){let t=z.fill=new Path2D(D),l=S(a.fillTo(e,s,a.min,a.max,F));E(t,C,l),E(t,W,l)}if(!a.spanGaps){let i=[];i.push(...Nt(f,c,r,u,T,M,n));let d=a.width*o/2,p=l||1==t?d:-d,m=l||-1==t?-d:d;i.forEach((e=>{e[0]+=p,e[1]+=m})),z.gaps=i=a.gaps(e,s,r,u,i),z.clip=Ot(i,h.ori,g,x,w,b)}return 0!=H&&(z.band=2==H?[Lt(e,s,r,u,D,-1),Lt(e,s,r,u,D,1)]:Lt(e,s,r,u,D,H)),z}))},e.bars=function(e){const t=P((e=e||fe).size,[.6,J,1]),l=e.align||0,n=(e.gap||0)*o;let i=e.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const s=X(i),r=1-t[0],u=P(t[1],J)*o,a=P(t[2],1)*o,f=P(e.disp,fe),c=P(e.each,(e=>{})),{fill:h,stroke:d}=f;return(e,t,i,p)=>Rt(e,t,((m,g,x,w,b,v,_,k,y,M,S)=>{let E,z,D=m.pxRound;0==w.ori?[E,z]=s(e,t):[z,E]=s(e,t);const T=w.dir*(0==w.ori?1:-1),A=b.dir*(1==b.ori?1:-1);let Y,W,C=0==w.ori?Kt:Xt,F=0==w.ori?c:(e,t,l,n,i,o,s)=>{c(e,t,l,i,n,s,o)},[G,I]=Gt(e,t),N=3==b.distr?1==G?b.max:b.min:0,j=_(N,b,S,y),U=D(m.width*o),B=!1,V=null,J=null,q=null,K=null;null==h||0!=U&&null==d||(B=!0,V=h.values(e,t,i,p),J=new Map,new Set(V).forEach((e=>{null!=e&&J.set(e,new Path2D)})),U>0&&(q=d.values(e,t,i,p),K=new Map,new Set(q).forEach((e=>{null!=e&&K.set(e,new Path2D)}))));let{x0:X,size:Z}=f,$=!0;if(null!=X&&null!=Z){g=X.values(e,t,i,p),2==X.unit&&(g=g.map((t=>e.posToVal(k+t*M,w.key,!0))));let l=Z.values(e,t,i,p);W=2==Z.unit?l[0]*M:v(l[0],w,M,k)-v(0,w,M,k),W=D(W-U),Y=1==T?-U/2:W+U/2}else{let e=M;if(g.length>1){let t=null;for(let l=0,n=1/0;l<g.length;l++)if(void 0!==x[l]){if(null!=t){let i=H(g[l]-g[t]);i<n&&(n=i,e=H(v(g[l],w,M,k)-v(g[t],w,M,k)))}t=l}}W=D(L(u,O(a,e-e*r))-U-n),Y=(0==l?W/2:l==T?0:W)-l*T*n/2,W>e&&($=!1)}const Q={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:3};let ee;0!=I&&(Q.band=new Path2D,ee=D(_(1==I?b.max:b.min,b,S,y)));const te=B?null:new Path2D,le=Q.band;let{y0:ne,y1:ie}=f,oe=null;null!=ne&&null!=ie&&(x=ie.values(e,t,i,p),oe=ne.values(e,t,i,p));let se=E*W,re=z*W;for(let l=1==T?i:p;l>=i&&l<=p;l+=T){let n=x[l];if(void 0===n)continue;let i=v(2!=w.distr||null!=f?g[l]:l,w,M,k),o=_(P(n,N),b,S,y);null!=oe&&null!=n&&(j=_(oe[l],b,S,y));let s=D(i-Y),r=D(O(o,j)),u=D(L(o,j)),a=r-u;if(null!=n){let i=n<0?re:se,o=n<0?se:re;B?(U>0&&null!=q[l]&&C(K.get(q[l]),s,u+R(U/2),W,O(0,a-U),i,o),null!=V[l]&&C(J.get(V[l]),s,u+R(U/2),W,O(0,a-U),i,o)):C(te,s,u+R(U/2),W,O(0,a-U),i,o),F(e,t,l,s-U/2,u,W+U,a)}0==I||null==n&&!$||(A*I==1?(r=u,u=ee):(u=r,r=ee),a=r-u,C(le,s-U/2,u,W+U,O(0,a),0,0))}return U>0&&(Q.stroke=B?K:te),Q.fill=B?J:te,Q}))},e.spline=function(e){return function(e,t){const l=P(t?.alignGaps,0);return(t,n,i,o)=>Rt(t,n,((s,r,u,a,f,c,h,d,p,m,g)=>{let x,w,b,v=s.pxRound,_=e=>v(c(e,a,m,d)),k=e=>v(h(e,f,g,p));0==a.ori?(x=Bt,b=Jt,w=Qt):(x=Vt,b=qt,w=el);const M=a.dir*(0==a.ori?1:-1);i=y(u,i,o,1),o=y(u,i,o,-1);let S=_(r[1==M?i:o]),E=S,z=[],D=[];for(let e=1==M?i:o;e>=i&&e<=o;e+=M)if(null!=u[e]){let t=_(r[e]);z.push(E=t),D.push(k(u[e]))}const T={stroke:e(z,D,x,b,w,v),fill:null,clip:null,band:null,gaps:null,flags:1},P=T.stroke;let[A,Y]=Gt(t,n);if(null!=s.fill||0!=A){let e=T.fill=new Path2D(P),l=k(s.fillTo(t,n,s.min,s.max,A));b(e,E,l),b(e,S,l)}if(!s.spanGaps){let e=[];e.push(...Nt(r,u,i,o,M,_,l)),T.gaps=e=s.gaps(t,n,i,o,e),T.clip=Ot(e,a.ori,d,p,m,g)}return 0!=Y&&(T.band=2==Y?[Lt(t,n,i,o,P,-1),Lt(t,n,i,o,P,1)]:Lt(t,n,i,o,P,Y)),T}))}(sl,e)}}export{yl as default};
